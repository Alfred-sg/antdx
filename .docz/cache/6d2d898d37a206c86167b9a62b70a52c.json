{"remainingRequest":"/Users/alfred/.nvm/versions/node/v10.15.0/lib/node_modules/umi-library/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js??ref--5-1!/Users/alfred/.nvm/versions/node/v10.15.0/lib/node_modules/umi-library/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js??ref--5-2!/Users/alfred/.nvm/versions/node/v10.15.0/lib/node_modules/umi-library/node_modules/_source-map-loader@0.2.4@source-map-loader/index.js!/Users/alfred/Desktop/dvp/antdx/dist/antdx.js","dependencies":[{"path":"/Users/alfred/Desktop/dvp/antdx/dist/antdx.js","mtime":1546758634456},{"path":"/Users/alfred/.nvm/versions/node/v10.15.0/lib/node_modules/umi-library/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alfred/.nvm/versions/node/v10.15.0/lib/node_modules/umi-library/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alfred/.nvm/versions/node/v10.15.0/lib/node_modules/umi-library/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/alfred/.nvm/versions/node/v10.15.0/lib/node_modules/umi-library/node_modules/_source-map-loader@0.2.4@source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWxbImRlZmF1bHQiXS5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHsKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKSBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgiUmVhY3QiKSwgcmVxdWlyZSgiYW50ZCIpKTtlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIGRlZmluZShbIlJlYWN0IiwgImFudGQiXSwgZmFjdG9yeSk7ZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSBleHBvcnRzWyJhbnRkeCJdID0gZmFjdG9yeShyZXF1aXJlKCJSZWFjdCIpLCByZXF1aXJlKCJhbnRkIikpO2Vsc2Ugcm9vdFsiYW50ZHgiXSA9IGZhY3Rvcnkocm9vdFsiUmVhY3QiXSwgcm9vdFsiYW50ZCJdKTsKfSkod2luZG93LCBmdW5jdGlvbiAoX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMjlfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTBfXykgewogIHJldHVybiAoCiAgICAvKioqKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZXMpIHsKICAgICAgLy8gd2VicGFja0Jvb3RzdHJhcAoKICAgICAgLyoqKioqKi8KICAgICAgLy8gVGhlIG1vZHVsZSBjYWNoZQoKICAgICAgLyoqKioqKi8KICAgICAgdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKICAgICAgLyoqKioqKi8KCiAgICAgIC8qKioqKiovCiAgICAgIC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCgogICAgICAvKioqKioqLwoKICAgICAgZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewogICAgICAgIC8qKioqKiovCgogICAgICAgIC8qKioqKiovCiAgICAgICAgLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCgogICAgICAgIC8qKioqKiovCiAgICAgICAgaWYgKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7CiAgICAgICAgICAvKioqKioqLwogICAgICAgICAgcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CiAgICAgICAgICAvKioqKioqLwogICAgICAgIH0KICAgICAgICAvKioqKioqLwogICAgICAgIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCgogICAgICAgIC8qKioqKiovCgoKICAgICAgICB2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7CiAgICAgICAgICAvKioqKioqLwogICAgICAgICAgaTogbW9kdWxlSWQsCgogICAgICAgICAgLyoqKioqKi8KICAgICAgICAgIGw6IGZhbHNlLAoKICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICBleHBvcnRzOiB7fQogICAgICAgICAgLyoqKioqKi8KCiAgICAgICAgfTsKICAgICAgICAvKioqKioqLwoKICAgICAgICAvKioqKioqLwogICAgICAgIC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvbgoKICAgICAgICAvKioqKioqLwoKICAgICAgICBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKICAgICAgICAvKioqKioqLwoKICAgICAgICAvKioqKioqLwogICAgICAgIC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKCiAgICAgICAgLyoqKioqKi8KCiAgICAgICAgbW9kdWxlLmwgPSB0cnVlOwogICAgICAgIC8qKioqKiovCgogICAgICAgIC8qKioqKiovCiAgICAgICAgLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKCiAgICAgICAgLyoqKioqKi8KCiAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgIC8qKioqKiovCiAgICAgIH0KICAgICAgLyoqKioqKi8KCiAgICAgIC8qKioqKiovCgogICAgICAvKioqKioqLwogICAgICAvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKQoKICAgICAgLyoqKioqKi8KCgogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwogICAgICAvKioqKioqLwoKICAgICAgLyoqKioqKi8KICAgICAgLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGUKCiAgICAgIC8qKioqKiovCgogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwogICAgICAvKioqKioqLwoKICAgICAgLyoqKioqKi8KICAgICAgLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzCgogICAgICAvKioqKioqLwoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24gKGV4cG9ydHMsIG5hbWUsIGdldHRlcikgewogICAgICAgIC8qKioqKiovCiAgICAgICAgaWYgKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHsKICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgewogICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgICBnZXQ6IGdldHRlcgogICAgICAgICAgfSk7CiAgICAgICAgICAvKioqKioqLwogICAgICAgIH0KICAgICAgICAvKioqKioqLwoKICAgICAgfTsKICAgICAgLyoqKioqKi8KCiAgICAgIC8qKioqKiovCiAgICAgIC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHMKCiAgICAgIC8qKioqKiovCgoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICAgICAvKioqKioqLwogICAgICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHsKICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7CiAgICAgICAgICAgIHZhbHVlOiAnTW9kdWxlJwogICAgICAgICAgfSk7CiAgICAgICAgICAvKioqKioqLwogICAgICAgIH0KICAgICAgICAvKioqKioqLwoKCiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogICAgICAgICAgdmFsdWU6IHRydWUKICAgICAgICB9KTsKICAgICAgICAvKioqKioqLwogICAgICB9OwogICAgICAvKioqKioqLwoKICAgICAgLyoqKioqKi8KICAgICAgLy8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0CgogICAgICAvKioqKioqLwogICAgICAvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXQKCiAgICAgIC8qKioqKiovCiAgICAgIC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBucwoKICAgICAgLyoqKioqKi8KICAgICAgLy8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0CgogICAgICAvKioqKioqLwogICAgICAvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlCgogICAgICAvKioqKioqLwoKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZSkgewogICAgICAgIC8qKioqKiovCiAgICAgICAgaWYgKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpOwogICAgICAgIC8qKioqKiovCgogICAgICAgIGlmIChtb2RlICYgOCkgcmV0dXJuIHZhbHVlOwogICAgICAgIC8qKioqKiovCgogICAgICAgIGlmIChtb2RlICYgNCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTsKICAgICAgICAvKioqKioqLwoKICAgICAgICB2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICAgIC8qKioqKiovCgogICAgICAgIF9fd2VicGFja19yZXF1aXJlX18ucihucyk7CiAgICAgICAgLyoqKioqKi8KCgogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7CiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgfSk7CiAgICAgICAgLyoqKioqKi8KCiAgICAgICAgaWYgKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7CiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICByZXR1cm4gdmFsdWVba2V5XTsKICAgICAgICAgIH0uYmluZChudWxsLCBrZXkpKTsKICAgICAgICB9CiAgICAgICAgLyoqKioqKi8KCiAgICAgICAgcmV0dXJuIG5zOwogICAgICAgIC8qKioqKiovCiAgICAgIH07CiAgICAgIC8qKioqKiovCgogICAgICAvKioqKioqLwogICAgICAvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlcwoKICAgICAgLyoqKioqKi8KCgogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbiAobW9kdWxlKSB7CiAgICAgICAgLyoqKioqKi8KICAgICAgICB2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID8KICAgICAgICAvKioqKioqLwogICAgICAgIGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107CiAgICAgICAgfSA6CiAgICAgICAgLyoqKioqKi8KICAgICAgICBmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgewogICAgICAgICAgcmV0dXJuIG1vZHVsZTsKICAgICAgICB9OwogICAgICAgIC8qKioqKiovCgogICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTsKICAgICAgICAvKioqKioqLwoKCiAgICAgICAgcmV0dXJuIGdldHRlcjsKICAgICAgICAvKioqKioqLwogICAgICB9OwogICAgICAvKioqKioqLwoKICAgICAgLyoqKioqKi8KICAgICAgLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsCgogICAgICAvKioqKioqLwoKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uIChvYmplY3QsIHByb3BlcnR5KSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsKICAgICAgfTsKICAgICAgLyoqKioqKi8KCiAgICAgIC8qKioqKiovCiAgICAgIC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCgogICAgICAvKioqKioqLwoKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18ucCA9ICIiOwogICAgICAvKioqKioqLwoKICAgICAgLyoqKioqKi8KCiAgICAgIC8qKioqKiovCiAgICAgIC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwoKICAgICAgLyoqKioqKi8KCiAgICAgIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUxKTsKICAgICAgLyoqKioqKi8KICAgIH0oCiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKICAgIC8qKioqKiovCiAgICBbCiAgICAvKiAwICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgdmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHsKICAgICAgICB2ZXJzaW9uOiAnMi42LjEnCiAgICAgIH07CiAgICAgIGlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmCgogICAgICAvKioqLwogICAgfSwKICAgIC8qIDEgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOAogICAgICB2YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGggPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jCiAgICAgIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTsKICAgICAgaWYgKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpIF9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZgoKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAyICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgdmFyIHN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNykoJ3drcycpOwoKICAgICAgdmFyIHVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpOwoKICAgICAgdmFyIFN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSkuU3ltYm9sOwoKICAgICAgdmFyIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7CgogICAgICB2YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9IFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7CiAgICAgIH07CgogICAgICAkZXhwb3J0cy5zdG9yZSA9IHN0b3JlOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDMgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICB2YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgICAgIHZhciBjb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTsKCiAgICAgIHZhciBjdHggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTsKCiAgICAgIHZhciBoaWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTsKCiAgICAgIHZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKCiAgICAgIHZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJzsKCiAgICAgIHZhciAkZXhwb3J0ID0gZnVuY3Rpb24gJGV4cG9ydCh0eXBlLCBuYW1lLCBzb3VyY2UpIHsKICAgICAgICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRjsKICAgICAgICB2YXIgSVNfR0xPQkFMID0gdHlwZSAmICRleHBvcnQuRzsKICAgICAgICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUzsKICAgICAgICB2YXIgSVNfUFJPVE8gPSB0eXBlICYgJGV4cG9ydC5QOwogICAgICAgIHZhciBJU19CSU5EID0gdHlwZSAmICRleHBvcnQuQjsKICAgICAgICB2YXIgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0Llc7CiAgICAgICAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTsKICAgICAgICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV07CiAgICAgICAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07CiAgICAgICAgdmFyIGtleSwgb3duLCBvdXQ7CiAgICAgICAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTsKCiAgICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7CiAgICAgICAgICAvLyBjb250YWlucyBpbiBuYXRpdmUKICAgICAgICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7CiAgICAgICAgICBpZiAob3duICYmIGhhcyhleHBvcnRzLCBrZXkpKSBjb250aW51ZTsgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWQKCiAgICAgICAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldOyAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXMKCiAgICAgICAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XSAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dAogICAgICAgICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbCkgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnkKICAgICAgICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyBmdW5jdGlvbiAoQykgewogICAgICAgICAgICB2YXIgRiA9IGZ1bmN0aW9uIEYoYSwgYiwgYykgewogICAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQykgewogICAgICAgICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEMoKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEMoYSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDKGEsIGIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQyhhLCBiLCBjKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07CiAgICAgICAgICAgIHJldHVybiBGOyAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHMKICAgICAgICAgIH0ob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0OyAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSUKCiAgICAgICAgICBpZiAoSVNfUFJPVE8pIHsKICAgICAgICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0OyAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUucHJvdG90eXBlLiVOQU1FJQoKICAgICAgICAgICAgaWYgKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0pIGhpZGUoZXhwUHJvdG8sIGtleSwgb3V0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07IC8vIHR5cGUgYml0bWFwCgoKICAgICAgJGV4cG9ydC5GID0gMTsgLy8gZm9yY2VkCgogICAgICAkZXhwb3J0LkcgPSAyOyAvLyBnbG9iYWwKCiAgICAgICRleHBvcnQuUyA9IDQ7IC8vIHN0YXRpYwoKICAgICAgJGV4cG9ydC5QID0gODsgLy8gcHJvdG8KCiAgICAgICRleHBvcnQuQiA9IDE2OyAvLyBiaW5kCgogICAgICAkZXhwb3J0LlcgPSAzMjsgLy8gd3JhcAoKICAgICAgJGV4cG9ydC5VID0gNjQ7IC8vIHNhZmUKCiAgICAgICRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YAoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0OwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDQgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5CiAgICAgIG1vZHVsZS5leHBvcnRzID0gIV9fd2VicGFja19yZXF1aXJlX18oMTQpKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gNzsKICAgICAgICAgIH0KICAgICAgICB9KS5hICE9IDc7CiAgICAgIH0pOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDUgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICB2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHsKICAgICAgICBpZiAoIWlzT2JqZWN0KGl0KSkgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYW4gb2JqZWN0IScpOwogICAgICAgIHJldHVybiBpdDsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogNiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBkUCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpOwoKICAgICAgdmFyIGNyZWF0ZURlc2MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHsKICAgICAgICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpOwogICAgICB9IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkgewogICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7CiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgfTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA3ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsKICAgICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogewogICAgICAgICAgImRlZmF1bHQiOiBvYmoKICAgICAgICB9OwogICAgICB9CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQ7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogOCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIC8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5ncwogICAgICB2YXIgSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApOwoKICAgICAgdmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA5ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAxMCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5OwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkgewogICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAxMSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7CgogICAgICB2YXIgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTsKCiAgICAgIHZhciB0b1ByaW1pdGl2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpOwoKICAgICAgdmFyIGRQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5OwogICAgICBleHBvcnRzLmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykgewogICAgICAgIGFuT2JqZWN0KE8pOwogICAgICAgIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTsKICAgICAgICBhbk9iamVjdChBdHRyaWJ1dGVzKTsKICAgICAgICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7CiAgICAgICAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgLyogZW1wdHkgKi8KICAgICAgICB9CiAgICAgICAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTsKICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTsKICAgICAgICByZXR1cm4gTzsKICAgICAgfTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAxMiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0ge307CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogMTMgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICB2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZzsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogMTQgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiAhIWV4ZWMoKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDE1ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nCiAgICAgIHZhciBhRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0LCBsZW5ndGgpIHsKICAgICAgICBhRnVuY3Rpb24oZm4pOwogICAgICAgIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjsKCiAgICAgICAgc3dpdGNoIChsZW5ndGgpIHsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykgewogICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpOwogICAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpCiAgICAgICAgLyogLi4uYXJncyAqLwogICAgICAgIHsKICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDE2ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHsKICAgICAgICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7CiAgICAgICAgcmV0dXJuIGl0OwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAxNyAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpOwoKICAgICAgdmFyIF9PYmplY3QkZGVmaW5lUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTsKCiAgICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgewogICAgICAgIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsKICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBuZXdPYmogPSB7fTsKCiAgICAgICAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICAgICAgICB2YXIgZGVzYyA9IF9PYmplY3QkZGVmaW5lUHJvcGVydHkgJiYgX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBfT2JqZWN0JGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiB7fTsKCiAgICAgICAgICAgICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpIHsKICAgICAgICAgICAgICAgICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIG5ld09ialsiZGVmYXVsdCJdID0gb2JqOwogICAgICAgICAgcmV0dXJuIG5ld09iajsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQ7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogMTggKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICAvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KQogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkgewogICAgICAgIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIgKyBpdCk7CiAgICAgICAgcmV0dXJuIGl0OwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAxOSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSwKICAgICAgICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLAogICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgfTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogMjAgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICB2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpOwoKICAgICAgdmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKS5kb2N1bWVudDsgLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFCgoKICAgICAgdmFyIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHsKICAgICAgICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9OwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAyMSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIC8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKQogICAgICB2YXIgJGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTsKCiAgICAgIHZhciBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHsKICAgICAgICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAyMiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICAgIC8vIDcuMS40IFRvSW50ZWdlcgogICAgICB2YXIgY2VpbCA9IE1hdGguY2VpbDsKICAgICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDIzICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgdmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpKCdrZXlzJyk7CgogICAgICB2YXIgdWlkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAyNCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gdHJ1ZTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAyNSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIC8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudCkKICAgICAgdmFyIGRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDI2ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgdmFyIGRlZiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpLmY7CgogICAgICB2YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7CgogICAgICB2YXIgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgndG9TdHJpbmdUYWcnKTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCB0YWcsIHN0YXQpIHsKICAgICAgICBpZiAoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSkgZGVmKGl0LCBUQUcsIHsKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHZhbHVlOiB0YWcKICAgICAgICB9KTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogMjcgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAidXNlIHN0cmljdCI7IC8vIDI1LjQuMS41IE5ld1Byb21pc2VDYXBhYmlsaXR5KEMpCgogICAgICB2YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7CgogICAgICBmdW5jdGlvbiBQcm9taXNlQ2FwYWJpbGl0eShDKSB7CiAgICAgICAgdmFyIHJlc29sdmUsIHJlamVjdDsKICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkgewogICAgICAgICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKCdCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvcicpOwogICAgICAgICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTsKICAgICAgICAgIHJlamVjdCA9ICQkcmVqZWN0OwogICAgICAgIH0pOwogICAgICAgIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTsKICAgICAgICB0aGlzLnJlamVjdCA9IGFGdW5jdGlvbihyZWplY3QpOwogICAgICB9CgogICAgICBtb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gKEMpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAyOCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBfT2JqZWN0JGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTA0KTsKCiAgICAgIGZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7CiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOwogICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzOwogICAgICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7CiAgICAgIH0KCiAgICAgIG1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzTG9vc2U7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogMjkgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzI5X187CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogMzAgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5ncwogICAgICB2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKCgogICAgICBtb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpOwogICAgICB9OwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDMxICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogMzIgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSkKICAgICAgdmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTsgLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2UKICAgICAgLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmcKCgogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykgewogICAgICAgIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7CiAgICAgICAgdmFyIGZuLCB2YWw7CiAgICAgICAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7CiAgICAgICAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7CiAgICAgICAgaWYgKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsOwogICAgICAgIHRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIik7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDMzICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSAhX193ZWJwYWNrX3JlcXVpcmVfXyg0KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXygxNCkoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX3JlcXVpcmVfXygyMCkoJ2RpdicpLCAnYScsIHsKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gNzsKICAgICAgICAgIH0KICAgICAgICB9KS5hICE9IDc7CiAgICAgIH0pOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDM0ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzCiAgICAgIHZhciAkZXhwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTsKCiAgICAgIHZhciBjb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTsKCiAgICAgIHZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoS0VZLCBleGVjKSB7CiAgICAgICAgdmFyIGZuID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldOwogICAgICAgIHZhciBleHAgPSB7fTsKICAgICAgICBleHBbS0VZXSA9IGV4ZWMoZm4pOwogICAgICAgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkgewogICAgICAgICAgZm4oMSk7CiAgICAgICAgfSksICdPYmplY3QnLCBleHApOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAzNSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogMzYgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvLyA3LjEuMTUgVG9MZW5ndGgKICAgICAgdmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpOwoKICAgICAgdmFyIG1pbiA9IE1hdGgubWluOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHsKICAgICAgICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MQogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAzNyAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBjb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTsKCiAgICAgIHZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKICAgICAgdmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nOwogICAgICB2YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7CiAgICAgIChtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7CiAgICAgIH0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHsKICAgICAgICB2ZXJzaW9uOiBjb3JlLnZlcnNpb24sCiAgICAgICAgbW9kZTogX193ZWJwYWNrX3JlcXVpcmVfXygyNCkgPyAncHVyZScgOiAnZ2xvYmFsJywKICAgICAgICBjb3B5cmlnaHQ6ICfCqSAyMDE4IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpJwogICAgICB9KTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAzOCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICAgIHZhciBpZCA9IDA7CiAgICAgIHZhciBweCA9IE1hdGgucmFuZG9tKCk7CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAzOSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICAgIC8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXMKICAgICAgbW9kdWxlLmV4cG9ydHMgPSAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJy5zcGxpdCgnLCcpOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDQwICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA0MSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBMSUJSQVJZID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7CgogICAgICB2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CgogICAgICB2YXIgcmVkZWZpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTsKCiAgICAgIHZhciBoaWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTsKCiAgICAgIHZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTsKCiAgICAgIHZhciAkaXRlckNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oODMpOwoKICAgICAgdmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7CgogICAgICB2YXIgZ2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTsKCiAgICAgIHZhciBJVEVSQVRPUiA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ2l0ZXJhdG9yJyk7CgogICAgICB2YXIgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSk7IC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGAKCiAgICAgIHZhciBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJzsKICAgICAgdmFyIEtFWVMgPSAna2V5cyc7CiAgICAgIHZhciBWQUxVRVMgPSAndmFsdWVzJzsKCiAgICAgIHZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gcmV0dXJuVGhpcygpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkgewogICAgICAgICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTsKCiAgICAgICAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uIGdldE1ldGhvZChraW5kKSB7CiAgICAgICAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTsKCiAgICAgICAgICBzd2l0Y2ggKGtpbmQpIHsKICAgICAgICAgICAgY2FzZSBLRVlTOgogICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBrZXlzKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgY2FzZSBWQUxVRVM6CiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsKICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgdmFyIFRBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJzsKICAgICAgICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTOwogICAgICAgIHZhciBWQUxVRVNfQlVHID0gZmFsc2U7CiAgICAgICAgdmFyIHByb3RvID0gQmFzZS5wcm90b3R5cGU7CiAgICAgICAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07CiAgICAgICAgdmFyICRkZWZhdWx0ID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVCk7CiAgICAgICAgdmFyICRlbnRyaWVzID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZDsKICAgICAgICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7CiAgICAgICAgdmFyIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7IC8vIEZpeCBuYXRpdmUKCiAgICAgICAgaWYgKCRhbnlOYXRpdmUpIHsKICAgICAgICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKCkpKTsKCiAgICAgICAgICBpZiAoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgSXRlcmF0b3JQcm90b3R5cGUubmV4dCkgewogICAgICAgICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzCiAgICAgICAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpOyAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXMKCiAgICAgICAgICAgIGlmICghTElCUkFSWSAmJiB0eXBlb2YgSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdICE9ICdmdW5jdGlvbicpIGhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTsKICAgICAgICAgIH0KICAgICAgICB9IC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkYKCgogICAgICAgIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHsKICAgICAgICAgIFZBTFVFU19CVUcgPSB0cnVlOwoKICAgICAgICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgewogICAgICAgICAgICByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOwogICAgICAgICAgfTsKICAgICAgICB9IC8vIERlZmluZSBpdGVyYXRvcgoKCiAgICAgICAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7CiAgICAgICAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpOwogICAgICAgIH0gLy8gUGx1ZyBmb3IgbGlicmFyeQoKCiAgICAgICAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7CiAgICAgICAgSXRlcmF0b3JzW1RBR10gPSByZXR1cm5UaGlzOwoKICAgICAgICBpZiAoREVGQVVMVCkgewogICAgICAgICAgbWV0aG9kcyA9IHsKICAgICAgICAgICAgdmFsdWVzOiBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSwKICAgICAgICAgICAga2V5czogSVNfU0VUID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksCiAgICAgICAgICAgIGVudHJpZXM6ICRlbnRyaWVzCiAgICAgICAgICB9OwogICAgICAgICAgaWYgKEZPUkNFRCkgZm9yIChrZXkgaW4gbWV0aG9kcykgewogICAgICAgICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pOwogICAgICAgICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBtZXRob2RzOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA0MiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIC8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKQogICAgICB2YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpOwoKICAgICAgdmFyIGRQcyA9IF9fd2VicGFja19yZXF1aXJlX18oODQpOwoKICAgICAgdmFyIGVudW1CdWdLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7CgogICAgICB2YXIgSUVfUFJPVE8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSgnSUVfUFJPVE8nKTsKCiAgICAgIHZhciBFbXB0eSA9IGZ1bmN0aW9uIEVtcHR5KCkgewogICAgICAgIC8qIGVtcHR5ICovCiAgICAgIH07CgogICAgICB2YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7IC8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGUKCiAgICAgIHZhciBfY3JlYXRlRGljdCA9IGZ1bmN0aW9uIGNyZWF0ZURpY3QoKSB7CiAgICAgICAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWcKICAgICAgICB2YXIgaWZyYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCkoJ2lmcmFtZScpOwoKICAgICAgICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDsKICAgICAgICB2YXIgbHQgPSAnPCc7CiAgICAgICAgdmFyIGd0ID0gJz4nOwogICAgICAgIHZhciBpZnJhbWVEb2N1bWVudDsKICAgICAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCiAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0MykuYXBwZW5kQ2hpbGQoaWZyYW1lKTsKCiAgICAgICAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybAogICAgICAgIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7CiAgICAgICAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpOwoKICAgICAgICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50OwogICAgICAgIGlmcmFtZURvY3VtZW50Lm9wZW4oKTsKICAgICAgICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7CiAgICAgICAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTsKICAgICAgICBfY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7CgogICAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICAgIGRlbGV0ZSBfY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfY3JlYXRlRGljdCgpOwogICAgICB9OwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgaWYgKE8gIT09IG51bGwpIHsKICAgICAgICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTsKICAgICAgICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpOwogICAgICAgICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7IC8vIGFkZCAiX19wcm90b19fIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsCgogICAgICAgICAgcmVzdWx0W0lFX1BST1RPXSA9IE87CiAgICAgICAgfSBlbHNlIHJlc3VsdCA9IF9jcmVhdGVEaWN0KCk7CgogICAgICAgIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogNDMgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICB2YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLmRvY3VtZW50OwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNDQgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvLyBnZXR0aW5nIHRhZyBmcm9tIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKQogICAgICB2YXIgY29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7CgogICAgICB2YXIgVEFHID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgndG9TdHJpbmdUYWcnKTsgLy8gRVMzIHdyb25nIGhlcmUKCgogICAgICB2YXIgQVJHID0gY29mKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gYXJndW1lbnRzOwogICAgICB9KCkpID09ICdBcmd1bWVudHMnOyAvLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvcgoKICAgICAgdmFyIHRyeUdldCA9IGZ1bmN0aW9uIHRyeUdldChpdCwga2V5KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBpdFtrZXldOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIC8qIGVtcHR5ICovCiAgICAgICAgfQogICAgICB9OwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHsKICAgICAgICB2YXIgTywgVCwgQjsKICAgICAgICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCcgLy8gQEB0b1N0cmluZ1RhZyBjYXNlCiAgICAgICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVCAvLyBidWlsdGluVGFnIGNhc2UKICAgICAgICA6IEFSRyA/IGNvZihPKSAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrCiAgICAgICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDQ1ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpCiAgICAgIHZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7CgogICAgICB2YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7CgogICAgICB2YXIgU1BFQ0lFUyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ3NwZWNpZXMnKTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIEQpIHsKICAgICAgICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yOwogICAgICAgIHZhciBTOwogICAgICAgIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogNDYgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICB2YXIgY3R4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7CgogICAgICB2YXIgaW52b2tlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7CgogICAgICB2YXIgaHRtbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpOwoKICAgICAgdmFyIGNlbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjApOwoKICAgICAgdmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogICAgICB2YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzOwogICAgICB2YXIgc2V0VGFzayA9IGdsb2JhbC5zZXRJbW1lZGlhdGU7CiAgICAgIHZhciBjbGVhclRhc2sgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGU7CiAgICAgIHZhciBNZXNzYWdlQ2hhbm5lbCA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbDsKICAgICAgdmFyIERpc3BhdGNoID0gZ2xvYmFsLkRpc3BhdGNoOwogICAgICB2YXIgY291bnRlciA9IDA7CiAgICAgIHZhciBxdWV1ZSA9IHt9OwogICAgICB2YXIgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7CiAgICAgIHZhciBkZWZlciwgY2hhbm5lbCwgcG9ydDsKCiAgICAgIHZhciBydW4gPSBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgdmFyIGlkID0gK3RoaXM7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMKCiAgICAgICAgaWYgKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSkgewogICAgICAgICAgdmFyIGZuID0gcXVldWVbaWRdOwogICAgICAgICAgZGVsZXRlIHF1ZXVlW2lkXTsKICAgICAgICAgIGZuKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoZXZlbnQpIHsKICAgICAgICBydW4uY2FsbChldmVudC5kYXRhKTsKICAgICAgfTsgLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOgoKCiAgICAgIGlmICghc2V0VGFzayB8fCAhY2xlYXJUYXNrKSB7CiAgICAgICAgc2V0VGFzayA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShmbikgewogICAgICAgICAgdmFyIGFyZ3MgPSBbXTsKICAgICAgICAgIHZhciBpID0gMTsKCiAgICAgICAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpIHsKICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTsKICAgICAgICAgIH0KCiAgICAgICAgICBxdWV1ZVsrK2NvdW50ZXJdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMKICAgICAgICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpOwogICAgICAgICAgfTsKCiAgICAgICAgICBkZWZlcihjb3VudGVyKTsKICAgICAgICAgIHJldHVybiBjb3VudGVyOwogICAgICAgIH07CgogICAgICAgIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7CiAgICAgICAgICBkZWxldGUgcXVldWVbaWRdOwogICAgICAgIH07IC8vIE5vZGUuanMgMC44LQoKCiAgICAgICAgaWYgKF9fd2VicGFja19yZXF1aXJlX18oMTMpKHByb2Nlc3MpID09ICdwcm9jZXNzJykgewogICAgICAgICAgZGVmZXIgPSBmdW5jdGlvbiBkZWZlcihpZCkgewogICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGN0eChydW4sIGlkLCAxKSk7CiAgICAgICAgICB9OyAvLyBTcGhlcmUgKEpTIGdhbWUgZW5naW5lKSBEaXNwYXRjaCBBUEkKCiAgICAgICAgfSBlbHNlIGlmIChEaXNwYXRjaCAmJiBEaXNwYXRjaC5ub3cpIHsKICAgICAgICAgIGRlZmVyID0gZnVuY3Rpb24gZGVmZXIoaWQpIHsKICAgICAgICAgICAgRGlzcGF0Y2gubm93KGN0eChydW4sIGlkLCAxKSk7CiAgICAgICAgICB9OyAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzCgogICAgICAgIH0gZWxzZSBpZiAoTWVzc2FnZUNoYW5uZWwpIHsKICAgICAgICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTsKICAgICAgICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyOwogICAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBsaXN0ZW5lcjsKICAgICAgICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpOyAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnMKICAgICAgICAgIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnCiAgICAgICAgfSBlbHNlIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHsKICAgICAgICAgIGRlZmVyID0gZnVuY3Rpb24gZGVmZXIoaWQpIHsKICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKGlkICsgJycsICcqJyk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTsgLy8gSUU4LQogICAgICAgIH0gZWxzZSBpZiAoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0JykpIHsKICAgICAgICAgIGRlZmVyID0gZnVuY3Rpb24gZGVmZXIoaWQpIHsKICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7CiAgICAgICAgICAgICAgcnVuLmNhbGwoaWQpOwogICAgICAgICAgICB9OwogICAgICAgICAgfTsgLy8gUmVzdCBvbGQgYnJvd3NlcnMKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlZmVyID0gZnVuY3Rpb24gZGVmZXIoaWQpIHsKICAgICAgICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1vZHVsZS5leHBvcnRzID0gewogICAgICAgIHNldDogc2V0VGFzaywKICAgICAgICBjbGVhcjogY2xlYXJUYXNrCiAgICAgIH07CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNDcgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGU6IGZhbHNlLAogICAgICAgICAgICB2OiBleGVjKCkKICAgICAgICAgIH07CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZTogdHJ1ZSwKICAgICAgICAgICAgdjogZQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDQ4ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgdmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTsKCiAgICAgIHZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7CgogICAgICB2YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEMsIHgpIHsKICAgICAgICBhbk9iamVjdChDKTsKICAgICAgICBpZiAoaXNPYmplY3QoeCkgJiYgeC5jb25zdHJ1Y3RvciA9PT0gQykgcmV0dXJuIHg7CiAgICAgICAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTsKICAgICAgICB2YXIgcmVzb2x2ZSA9IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmU7CiAgICAgICAgcmVzb2x2ZSh4KTsKICAgICAgICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogNDkgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvKioKICAgICAgICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuCiAgICAgICAqCiAgICAgICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZQogICAgICAgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCiAgICAgICAqLwogICAgICBpZiAoZmFsc2UpIHsKICAgICAgICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcywgaXNWYWxpZEVsZW1lbnQsIFJFQUNUX0VMRU1FTlRfVFlQRTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLgogICAgICAgIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2QKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA3KSgpOwogICAgICB9CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDUwICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX181MF9fOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDUxICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpOwoKICAgICAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsKICAgICAgZXhwb3J0c1siZGVmYXVsdCJdID0gdm9pZCAwOwoKICAgICAgdmFyIF9TZWFyY2hhYmxlVGFibGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNTIpKTsKCiAgICAgIHZhciBfZGVmYXVsdCA9IHsKICAgICAgICBTZWFyY2hhYmxlVGFibGU6IF9TZWFyY2hhYmxlVGFibGVbImRlZmF1bHQiXQogICAgICB9OwogICAgICBleHBvcnRzWyJkZWZhdWx0Il0gPSBfZGVmYXVsdDsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNTIgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7CgogICAgICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlOwogICAgICBleHBvcnRzWyJkZWZhdWx0Il0gPSB2b2lkIDA7CgogICAgICB2YXIgX1RhYmxlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKSk7CgogICAgICB2YXIgX0NvbHVtbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMTIpKTsKCiAgICAgIHZhciBfRm9ybSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpKTsKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMTE0KTsKCiAgICAgIF9UYWJsZVsiZGVmYXVsdCJdLkNvbHVtbiA9IF9Db2x1bW5bImRlZmF1bHQiXTsKICAgICAgX1RhYmxlWyJkZWZhdWx0Il0uU2VhcmNoRm9ybSA9IF9Gb3JtWyJkZWZhdWx0Il07CiAgICAgIHZhciBfZGVmYXVsdCA9IF9UYWJsZVsiZGVmYXVsdCJdOwogICAgICBleHBvcnRzWyJkZWZhdWx0Il0gPSBfZGVmYXVsdDsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNTMgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTsKCiAgICAgIHZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTsKCiAgICAgIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7CiAgICAgIGV4cG9ydHNbImRlZmF1bHQiXSA9IHZvaWQgMDsKCiAgICAgIHZhciBfZXh0ZW5kczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjEpKTsKCiAgICAgIHZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNjkpKTsKCiAgICAgIHZhciBfYXNzaWduID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSk7CgogICAgICB2YXIgX3JlZ2VuZXJhdG9yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKSk7CgogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTsKCiAgICAgIHZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNzYpKTsKCiAgICAgIHZhciBfa2V5cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg0MCkpOwoKICAgICAgdmFyIF9pbmhlcml0c0xvb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyOCkpOwoKICAgICAgdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9fd2VicGFja19yZXF1aXJlX18oMjkpKTsKCiAgICAgIHZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KSk7CgogICAgICB2YXIgX2FudGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTsKCiAgICAgIHZhciBfY2xhc3NuYW1lczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTA5KSk7CgogICAgICB2YXIgX29taXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTEwKSk7CgogICAgICB2YXIgX3dhcm5pbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oMTExKSk7CgogICAgICB2YXIgcGFnaW5hdGlvblR5cGVzID0gX3Byb3BUeXBlc1siZGVmYXVsdCJdLnNoYXBlKHsKICAgICAgICBjdXJyZW50OiBfcHJvcFR5cGVzWyJkZWZhdWx0Il0ubnVtYmVyLmlzUmVxdWlyZWQsCiAgICAgICAgcGFnZVNpemU6IF9wcm9wVHlwZXNbImRlZmF1bHQiXS5udW1iZXIuaXNSZXF1aXJlZCwKICAgICAgICB0b3RhbDogX3Byb3BUeXBlc1siZGVmYXVsdCJdLm51bWJlci5pc1JlcXVpcmVkCiAgICAgIH0pOwoKICAgICAgdmFyIGRlZmF1bHRQYWdpbmF0aW9uID0gewogICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIHRvdGFsOiAwCiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiDluKbmkJzntKLooajljZXnmoTooajmoLwKICAgICAgICovCgogICAgICB2YXIgU2VhcmNoYWJsZVRhYmxlID0KICAgICAgLyojX19QVVJFX18qLwogICAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogICAgICAgICgwLCBfaW5oZXJpdHNMb29zZTJbImRlZmF1bHQiXSkoU2VhcmNoYWJsZVRhYmxlLCBfQ29tcG9uZW50KTsKCiAgICAgICAgU2VhcmNoYWJsZVRhYmxlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHsKICAgICAgICAgIHZhciBfc3RhdGUkcGFnaW5hdGlvbiA9IHN0YXRlLnBhZ2luYXRpb24sCiAgICAgICAgICAgICAgcGFnaW5hdGlvblN0YXRlID0gX3N0YXRlJHBhZ2luYXRpb24gPT09IHZvaWQgMCA/IHt9IDogX3N0YXRlJHBhZ2luYXRpb247CiAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IHByb3BzLnBhZ2luYXRpb24sCiAgICAgICAgICAgICAgc2VhcmNoSW5mbyA9IHByb3BzLnNlYXJjaEluZm8sCiAgICAgICAgICAgICAgZGF0YVNvdXJjZSA9IHByb3BzLmRhdGFTb3VyY2U7CiAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB7fTsKCiAgICAgICAgICBpZiAoJ3BhZ2luYXRpb24nIGluIHByb3BzICYmIHR5cGVvZiBwYWdpbmF0aW9uID09PSAnb2JqZWN0JyAmJiBwYWdpbmF0aW9uKSB7CiAgICAgICAgICAgIGlmIChwYWdpbmF0aW9uLmN1cnJlbnQgPT09IHBhZ2luYXRpb25TdGF0ZS5jdXJyZW50ICYmIHBhZ2luYXRpb24ucGFnZVNpemUgPT09IHBhZ2luYXRpb25TdGF0ZS5wYWdlU2l6ZSAmJiBwYWdpbmF0aW9uLnRvdGFsID09PSBwYWdpbmF0aW9uU3RhdGUudG90YWwpIHJldHVybjsKICAgICAgICAgICAgbmV3U3RhdGUucGFnaW5hdGlvbiA9IHsKICAgICAgICAgICAgICBjdXJyZW50OiBwYWdpbmF0aW9uLmN1cnJlbnQsCiAgICAgICAgICAgICAgcGFnZVNpemU6IHBhZ2luYXRpb24ucGFnZVNpemUsCiAgICAgICAgICAgICAgdG90YWw6IHBhZ2luYXRpb24udG90YWwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICA7CgogICAgICAgICAgaWYgKCdzZWFyY2hJbmZvJyBpbiBwcm9wcyAmJiBzZWFyY2hJbmZvICE9PSBzdGF0ZS5zZWFyY2hJbmZvKSB7CiAgICAgICAgICAgIG5ld1N0YXRlLnNlYXJjaEluZm8gPSBzZWFyY2hJbmZvOwogICAgICAgICAgfQoKICAgICAgICAgIDsKCiAgICAgICAgICBpZiAoJ2RhdGFTb3VyY2UnIGluIHByb3BzICYmIGRhdGFTb3VyY2UgIT09IHN0YXRlLmRhdGFTb3VyY2UpIHsKICAgICAgICAgICAgbmV3U3RhdGUuZGF0YVNvdXJjZSA9IGRhdGFTb3VyY2U7CiAgICAgICAgICB9CgogICAgICAgICAgOwogICAgICAgICAgaWYgKCgwLCBfa2V5c1siZGVmYXVsdCJdKShuZXdTdGF0ZSkubGVuZ3RoKSByZXR1cm4gbmV3U3RhdGU7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBTZWFyY2hhYmxlVGFibGUocHJvcHMpIHsKICAgICAgICAgIHZhciBfdGhpczsKCiAgICAgICAgICBfdGhpcyA9IF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpczsKCiAgICAgICAgICBfdGhpcy5yZWxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLAogICAgICAgICAgICAgICAgc2VhcmNoSW5mbyA9IF90aGlzJHN0YXRlLnNlYXJjaEluZm8sCiAgICAgICAgICAgICAgICBfdGhpcyRzdGF0ZSRwYWdpbmF0aW8gPSBfdGhpcyRzdGF0ZS5wYWdpbmF0aW9uLAogICAgICAgICAgICAgICAgY3VycmVudCA9IF90aGlzJHN0YXRlJHBhZ2luYXRpby5jdXJyZW50LAogICAgICAgICAgICAgICAgcGFnZVNpemUgPSBfdGhpcyRzdGF0ZSRwYWdpbmF0aW8ucGFnZVNpemU7CgogICAgICAgICAgICBfdGhpcy5mZXRjaCh7CiAgICAgICAgICAgICAgc2VhcmNoSW5mbzogc2VhcmNoSW5mbywKICAgICAgICAgICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgICAgICAgICBjdXJyZW50OiBjdXJyZW50LAogICAgICAgICAgICAgICAgcGFnZVNpemU6IHBhZ2VTaXplCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuZmV0Y2ggPQogICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgX3JlZjIgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyWyJkZWZhdWx0Il0pKAogICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgIF9yZWdlbmVyYXRvclsiZGVmYXVsdCJdLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmKSB7CiAgICAgICAgICAgICAgdmFyIHBhZ2luYXRpb25QYXJhbSwgc2VhcmNoSW5mbywgZmV0Y2gsIHJlcywgZGF0YVNvdXJjZSwgcGFnaW5hdGlvbjsKICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yWyJkZWZhdWx0Il0ud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25QYXJhbSA9IF9yZWYucGFnaW5hdGlvbiwgc2VhcmNoSW5mbyA9IF9yZWYuc2VhcmNoSW5mbzsKICAgICAgICAgICAgICAgICAgICAgIGZldGNoID0gX3RoaXMucHJvcHMuZmV0Y2g7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKGZldGNoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb25QYXJhbSwKICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoSW5mbzogc2VhcmNoSW5mbwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgICAgICAgKDAsIF93YXJuaW5nWyJkZWZhdWx0Il0pKHJlcy5kYXRhU291cmNlIHx8IHJlcy5wYWdpbmF0aW9uLCAnUmV0dXJuIG9mIGZldGNoIHByb3AgbXVzdCBjb250YWluIGF0dHJpYnV0ZXMgd2l0aCBkYXRhU291cmNlIGFuZCBwYWdpbmF0aW9uIScpOwogICAgICAgICAgICAgICAgICAgICAgZGF0YVNvdXJjZSA9IHJlcy5kYXRhU291cmNlLCBwYWdpbmF0aW9uID0gcmVzLnBhZ2luYXRpb247CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhU291cmNlOiBkYXRhU291cmNlLAogICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uIHx8IGRlZmF1bHRQYWdpbmF0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbmZvOiBzZWFyY2hJbmZvLAogICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSgpOwoKICAgICAgICAgIF90aGlzLmRvU2VhcmNoID0gZnVuY3Rpb24gKHNlYXJjaEluZm8pIHsKICAgICAgICAgICAgaWYgKHNlYXJjaEluZm8gPT09IHZvaWQgMCkgewogICAgICAgICAgICAgIHNlYXJjaEluZm8gPSB7fTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIF90aGlzJHN0YXRlJHBhZ2luYXRpbzIgPSBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLAogICAgICAgICAgICAgICAgY3VycmVudCA9IF90aGlzJHN0YXRlJHBhZ2luYXRpbzIuY3VycmVudCwKICAgICAgICAgICAgICAgIHBhZ2VTaXplID0gX3RoaXMkc3RhdGUkcGFnaW5hdGlvMi5wYWdlU2l6ZTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICBzZWFyY2hJbmZvOiBzZWFyY2hJbmZvLAogICAgICAgICAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBfdGhpcy5mZXRjaChwYXJhbXMpOwogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpcy5vblRhYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHBhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlcikgewogICAgICAgICAgICB2YXIgY3VycmVudCA9IHBhZ2luYXRpb24uY3VycmVudCwKICAgICAgICAgICAgICAgIHBhZ2VTaXplID0gcGFnaW5hdGlvbi5wYWdlU2l6ZTsKICAgICAgICAgICAgdmFyIHNlYXJjaEluZm8gPSBfdGhpcy5zdGF0ZS5zZWFyY2hJbmZvOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgIHNlYXJjaEluZm86IHNlYXJjaEluZm8sCiAgICAgICAgICAgICAgcGFnaW5hdGlvbjogewogICAgICAgICAgICAgICAgY3VycmVudDogY3VycmVudCwKICAgICAgICAgICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIF90aGlzLmZldGNoKHBhcmFtcyk7CiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciBzdGF0ZSA9IHt9OwoKICAgICAgICAgIHZhciBfcGFnaW5hdGlvbjsKCiAgICAgICAgICBpZiAoJ3BhZ2luYXRpb24nIGluIHByb3BzICYmIHR5cGVvZiBwcm9wcy5wYWdpbmF0aW9uID09PSAnb2JqZWN0JyAmJiBfcGFnaW5hdGlvbikgewogICAgICAgICAgICBfcGFnaW5hdGlvbiA9IHsKICAgICAgICAgICAgICBjdXJyZW50OiBwcm9wLnBhZ2luYXRpb24uY3VycmVudCwKICAgICAgICAgICAgICBwYWdlU2l6ZTogcHJvcC5wYWdpbmF0aW9uLnBhZ2VTaXplLAogICAgICAgICAgICAgIHRvdGFsOiBwcm9wLnBhZ2luYXRpb24udG90YWwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgc3RhdGUucGFnaW5hdGlvbiA9IF9wYWdpbmF0aW9uOwogICAgICAgICAgfSBlbHNlIGlmICgnZGVmYXVsdFBhZ2luYXRpb24nIGluIHByb3BzKSB7CiAgICAgICAgICAgIF9wYWdpbmF0aW9uID0gcHJvcHMuZGVmYXVsdFBhZ2luYXRpb247CiAgICAgICAgICAgIHN0YXRlLnBhZ2luYXRpb24gPSBfcGFnaW5hdGlvbjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0YXRlLnBhZ2luYXRpb24gPSBkZWZhdWx0UGFnaW5hdGlvbjsKICAgICAgICAgIH0KCiAgICAgICAgICA7CgogICAgICAgICAgdmFyIF9kYXRhU291cmNlOwoKICAgICAgICAgIGlmICgnZGF0YVNvdXJjZScgaW4gcHJvcHMpIHsKICAgICAgICAgICAgX2RhdGFTb3VyY2UgPSBwcm9wcy5kYXRhU291cmNlOwogICAgICAgICAgICBzdGF0ZS5kYXRhU291cmNlID0gX2RhdGFTb3VyY2U7CiAgICAgICAgICB9IGVsc2UgaWYgKCdkZWZhdWx0RGF0YVNvdXJjZScgaW4gcHJvcHMpIHsKICAgICAgICAgICAgX2RhdGFTb3VyY2UgPSBwcm9wcy5kZWZhdWx0RGF0YVNvdXJjZTsKICAgICAgICAgICAgc3RhdGUuZGF0YVNvdXJjZSA9IF9kYXRhU291cmNlOwogICAgICAgICAgfQoKICAgICAgICAgIDsKCiAgICAgICAgICB2YXIgX3NlYXJjaEluZm87CgogICAgICAgICAgaWYgKCdzZWFyY2hJbmZvJyBpbiBwcm9wcykgewogICAgICAgICAgICBfc2VhcmNoSW5mbyA9IHByb3BzLnNlYXJjaEluZm87CiAgICAgICAgICAgIHN0YXRlLnNlYXJjaEluZm8gPSBfc2VhcmNoSW5mbzsKICAgICAgICAgIH0gZWxzZSBpZiAoJ2RlZmF1bHRTZWFyY2hJbmZvJyBpbiBwcm9wcykgewogICAgICAgICAgICBfc2VhcmNoSW5mbyA9IHByb3BzLmRlZmF1bHRTZWFyY2hJbmZvOwogICAgICAgICAgICBzdGF0ZS5zZWFyY2hJbmZvID0gX3NlYXJjaEluZm87CiAgICAgICAgICB9CgogICAgICAgICAgOwogICAgICAgICAgX3RoaXMuc3RhdGUgPSAoMCwgX2Fzc2lnblsiZGVmYXVsdCJdKSh7fSwgc3RhdGUsIHsKICAgICAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIF90aGlzOwogICAgICAgIH0KCiAgICAgICAgdmFyIF9wcm90byA9IFNlYXJjaGFibGVUYWJsZS5wcm90b3R5cGU7CgogICAgICAgIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkgewogICAgICAgICAgdGhpcy5yZWxvYWQoKTsKICAgICAgICB9CiAgICAgICAgLyoqCiAgICAgICAgICog5qC55o2uIHN0YXRlIOeKtuaAgeWKoOi9vei/nOeoi+aVsOaNrgogICAgICAgICAqLwogICAgICAgIDsKICAgICAgICAvKioKICAgICAgICAgKiDmuLLmn5PmkJzntKLooajljZXjgILmi4bliIbvvIzkvr/kuo7nu6fmib8KICAgICAgICAgKi8KCgogICAgICAgIF9wcm90by5yZW5kZXJGb3JtID0gZnVuY3Rpb24gcmVuZGVyRm9ybSgpIHsKICAgICAgICAgIHZhciBmb3JtID0gdGhpcy5wcm9wcy5mb3JtOwogICAgICAgICAgcmV0dXJuIGZvcm0gPyBfcmVhY3RbImRlZmF1bHQiXS5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogInNlYXJjaGFibGUtdGFibGUtZm9ybSIKICAgICAgICAgIH0sIGZvcm0odGhpcy5kb1NlYXJjaCkpIDogJyc7CiAgICAgICAgfQogICAgICAgIC8qKgogICAgICAgICAqIOa4suafk+ihqOagvOOAguaLhuWIhu+8jOS+v+S6jue7p+aJvwogICAgICAgICAqLwogICAgICAgIDsKCiAgICAgICAgX3Byb3RvLnJlbmRlclRhYmxlID0gZnVuY3Rpb24gcmVuZGVyVGFibGUoKSB7CiAgICAgICAgICB2YXIgX2NsYXNzbmFtZXM7CgogICAgICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsCiAgICAgICAgICAgICAgcGFnaW5hdGlvblN0YXRlID0gX3RoaXMkc3RhdGUyLnBhZ2luYXRpb24sCiAgICAgICAgICAgICAgZGF0YVNvdXJjZSA9IF90aGlzJHN0YXRlMi5kYXRhU291cmNlOwogICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcywKICAgICAgICAgICAgICB0YWJsZUNsYXNzTmFtZSA9IF90aGlzJHByb3BzLnRhYmxlQ2xhc3NOYW1lLAogICAgICAgICAgICAgIHRhYmxlU3R5bGUgPSBfdGhpcyRwcm9wcy50YWJsZVN0eWxlLAogICAgICAgICAgICAgIHBhZ2luYXRpb25Qcm9wID0gX3RoaXMkcHJvcHMucGFnaW5hdGlvbiwKICAgICAgICAgICAgICBjb2x1bW5zUHJvcCA9IF90aGlzJHByb3BzLmNvbHVtbnMsCiAgICAgICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbiwKICAgICAgICAgICAgICByZXN0ID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlMlsiZGVmYXVsdCJdKShfdGhpcyRwcm9wcywgWyJ0YWJsZUNsYXNzTmFtZSIsICJ0YWJsZVN0eWxlIiwgInBhZ2luYXRpb24iLCAiY29sdW1ucyIsICJjaGlsZHJlbiJdKTsKICAgICAgICAgIHZhciB0YWJsZUNsYXNzTmFtZXMgPSAoMCwgX2NsYXNzbmFtZXMzWyJkZWZhdWx0Il0pKChfY2xhc3NuYW1lcyA9IHsKICAgICAgICAgICAgJ3NlYXJjaGFibGUtdGFibGUnOiB0cnVlCiAgICAgICAgICB9LCBfY2xhc3NuYW1lc1t0YWJsZUNsYXNzTmFtZV0gPSAhIXRhYmxlQ2xhc3NOYW1lLCBfY2xhc3NuYW1lcykpOwogICAgICAgICAgdmFyIHRhYmxlUHJvcHMgPSAoMCwgX29taXRbImRlZmF1bHQiXSkoWydjbGFzc05hbWUnLCAnc3R5bGUnLCAnZGVmYXVsdFBhZ2luYXRpb24nLCAnZGVmYXVsdFNlYXJjaEluZm8nLCAnc2VhcmNoSW5mbycsICdkZWZhdWx0RGF0YVNvdXJjZScsICdkYXRhU291cmNlJywgJ2ZldGNoJywgJ2Zvcm0nXSkocmVzdCk7CiAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IHR5cGVvZiBwYWdpbmF0aW9uUHJvcCA9PT0gJ2Jvb2xlYW4nID8gcGFnaW5hdGlvblByb3AgOiAoMCwgX2Fzc2lnblsiZGVmYXVsdCJdKSh7fSwgcGFnaW5hdGlvblByb3AsIHBhZ2luYXRpb25TdGF0ZSk7CiAgICAgICAgICB2YXIgY29sdW1ucyA9IGNoaWxkcmVuID8gX3JlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICAgIHZhciBfY2hpbGQkcHJvcHMgPSBjaGlsZC5wcm9wcywKICAgICAgICAgICAgICAgIGNlbGwgPSBfY2hpbGQkcHJvcHMuY2VsbCwKICAgICAgICAgICAgICAgIHJlc3QgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UyWyJkZWZhdWx0Il0pKF9jaGlsZCRwcm9wcywgWyJjZWxsIl0pOwogICAgICAgICAgICByZXR1cm4gKDAsIF9hc3NpZ25bImRlZmF1bHQiXSkoe30sIHJlc3QsIHsKICAgICAgICAgICAgICBrZXk6IHJlc3QuZGF0YUluZGV4LAogICAgICAgICAgICAgIHJlbmRlcjogY2VsbAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pIDogY29sdW1uc1Byb3A7CiAgICAgICAgICByZXR1cm4gX3JlYWN0WyJkZWZhdWx0Il0uY3JlYXRlRWxlbWVudChfYW50ZC5UYWJsZSwgKDAsIF9leHRlbmRzMlsiZGVmYXVsdCJdKSh7fSwgdGFibGVQcm9wcywgewogICAgICAgICAgICBkYXRhU291cmNlOiBkYXRhU291cmNlLAogICAgICAgICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLAogICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vblRhYmxlQ2hhbmdlLAogICAgICAgICAgICBjbGFzc05hbWU6IHRhYmxlQ2xhc3NOYW1lcywKICAgICAgICAgICAgc3R5bGU6IHRhYmxlU3R5bGUKICAgICAgICAgIH0pKTsKICAgICAgICB9OwoKICAgICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICAgICAgdmFyIF9jbGFzc25hbWVzMjsKCiAgICAgICAgICB2YXIgbG9hZGluZyA9IHRoaXMuc3RhdGUubG9hZGluZzsKICAgICAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLAogICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzMi5jbGFzc05hbWUsCiAgICAgICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wczIuc3R5bGU7CiAgICAgICAgICB2YXIgY2xhc3NOYW1lcyA9ICgwLCBfY2xhc3NuYW1lczNbImRlZmF1bHQiXSkoKF9jbGFzc25hbWVzMiA9IHsKICAgICAgICAgICAgJ3NlYXJjaGFibGUtdGFibGUtY29udGFpbmVyJzogdHJ1ZQogICAgICAgICAgfSwgX2NsYXNzbmFtZXMyW2NsYXNzTmFtZV0gPSAhIWNsYXNzTmFtZSwgX2NsYXNzbmFtZXMyKSk7CiAgICAgICAgICByZXR1cm4gX3JlYWN0WyJkZWZhdWx0Il0uY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMsCiAgICAgICAgICAgIHN0eWxlOiBzdHlsZQogICAgICAgICAgfSwgX3JlYWN0WyJkZWZhdWx0Il0uY3JlYXRlRWxlbWVudChfYW50ZC5TcGluLCB7CiAgICAgICAgICAgIHNwaW5uaW5nOiBsb2FkaW5nLAogICAgICAgICAgICBjbGFzc05hbWU6ICJzZWFyY2hhYmxlLXRhYmxlLXNwaW4iCiAgICAgICAgICB9LCB0aGlzLnJlbmRlckZvcm0oKSwgdGhpcy5yZW5kZXJUYWJsZSgpKSk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIFNlYXJjaGFibGVUYWJsZTsKICAgICAgfShfcmVhY3QuQ29tcG9uZW50KTsKCiAgICAgIGV4cG9ydHNbImRlZmF1bHQiXSA9IFNlYXJjaGFibGVUYWJsZTsKICAgICAgU2VhcmNoYWJsZVRhYmxlLnByb3BUeXBlcyA9IHsKICAgICAgICBkZWZhdWx0UGFnaW5hdGlvbjogcGFnaW5hdGlvblR5cGVzLAogICAgICAgIHBhZ2luYXRpb246IF9wcm9wVHlwZXNbImRlZmF1bHQiXS5vbmVPZlR5cGUoW3BhZ2luYXRpb25UeXBlcywgX3Byb3BUeXBlc1siZGVmYXVsdCJdLmJvb2xdKSwKICAgICAgICBkZWZhdWx0U2VhcmNoSW5mbzogX3Byb3BUeXBlc1siZGVmYXVsdCJdLm9iamVjdCwKICAgICAgICBzZWFyY2hJbmZvOiBfcHJvcFR5cGVzWyJkZWZhdWx0Il0ub2JqZWN0LAogICAgICAgIGRlZmF1bHREYXRhU291cmNlOiBfcHJvcFR5cGVzWyJkZWZhdWx0Il0uYXJyYXksCiAgICAgICAgZGF0YVNvdXJjZTogX3Byb3BUeXBlc1siZGVmYXVsdCJdLmFycmF5LAogICAgICAgIGZvcm06IF9wcm9wVHlwZXNbImRlZmF1bHQiXS5mdW5jLAogICAgICAgIGZldGNoOiBfcHJvcFR5cGVzWyJkZWZhdWx0Il0uZnVuYywKICAgICAgICBjbGFzc05hbWU6IF9wcm9wVHlwZXNbImRlZmF1bHQiXS5zdHJpbmcsCiAgICAgICAgc3R5bGU6IF9wcm9wVHlwZXNbImRlZmF1bHQiXS5vYmplY3QsCiAgICAgICAgdGFibGVDbGFzc05hbWU6IF9wcm9wVHlwZXNbImRlZmF1bHQiXS5zdHJpbmcsCiAgICAgICAgdGFibGVTdHlsZTogX3Byb3BUeXBlc1siZGVmYXVsdCJdLm9iamVjdAogICAgICB9OwogICAgICA7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1siZGVmYXVsdCJdOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDU0ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA1NSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oNTYpOwoKICAgICAgdmFyICRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApLk9iamVjdDsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHsKICAgICAgICByZXR1cm4gJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSk7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDU2ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKQogICAgICB2YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTsKCiAgICAgIHZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NykuZjsKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMzQpKCdnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7CiAgICAgICAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpOwogICAgICAgIH07CiAgICAgIH0pOwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA1NyAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBwSUUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTsKCiAgICAgIHZhciBjcmVhdGVEZXNjID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7CgogICAgICB2YXIgdG9JT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTsKCiAgICAgIHZhciB0b1ByaW1pdGl2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpOwoKICAgICAgdmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApOwoKICAgICAgdmFyIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7CgogICAgICB2YXIgZ09QRCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7CiAgICAgIGV4cG9ydHMuZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCkgPyBnT1BEIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHsKICAgICAgICBPID0gdG9JT2JqZWN0KE8pOwogICAgICAgIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTsKICAgICAgICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7CiAgICAgICAgICByZXR1cm4gZ09QRChPLCBQKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAvKiBlbXB0eSAqLwogICAgICAgIH0KICAgICAgICBpZiAoaGFzKE8sIFApKSByZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7CiAgICAgIH07CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNTggKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDU5ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7CgogICAgICB2YXIgJE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCkuT2JqZWN0OwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7CiAgICAgICAgcmV0dXJuICRPYmplY3QuZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyk7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDYwICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgdmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpOyAvLyAxOS4xLjIuNCAvIDE1LjIuMy42IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKQoKCiAgICAgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIV9fd2VicGFja19yZXF1aXJlX18oNCksICdPYmplY3QnLCB7CiAgICAgICAgZGVmaW5lUHJvcGVydHk6IF9fd2VicGFja19yZXF1aXJlX18oMTEpLmYKICAgICAgfSk7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNjEgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICB2YXIgX09iamVjdCRhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTsKCiAgICAgIGZ1bmN0aW9uIF9leHRlbmRzKCkgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gX2V4dGVuZHMgPSBfT2JqZWN0JGFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOwoKICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7CiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB0YXJnZXQ7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIG1vZHVsZS5leHBvcnRzID0gX2V4dGVuZHM7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNjIgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKS5PYmplY3QuYXNzaWduOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDYzICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgLy8gMTkuMS4zLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSkKICAgICAgdmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpOwoKICAgICAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7CiAgICAgICAgYXNzaWduOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KQogICAgICB9KTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA2NCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsgLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKQoKICAgICAgdmFyIGdldEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTsKCiAgICAgIHZhciBnT1BTID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7CgogICAgICB2YXIgcElFID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7CgogICAgICB2YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTsKCiAgICAgIHZhciBJT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7CgogICAgICB2YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247IC8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKQoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KShmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIEEgPSB7fTsKICAgICAgICB2YXIgQiA9IHt9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKCiAgICAgICAgdmFyIFMgPSBTeW1ib2woKTsKICAgICAgICB2YXIgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7CiAgICAgICAgQVtTXSA9IDc7CiAgICAgICAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoaykgewogICAgICAgICAgQltrXSA9IGs7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7CiAgICAgIH0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgIHZhciBUID0gdG9PYmplY3QodGFyZ2V0KTsKICAgICAgICB2YXIgYUxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7CiAgICAgICAgdmFyIGluZGV4ID0gMTsKICAgICAgICB2YXIgZ2V0U3ltYm9scyA9IGdPUFMuZjsKICAgICAgICB2YXIgaXNFbnVtID0gcElFLmY7CgogICAgICAgIHdoaWxlIChhTGVuID4gaW5kZXgpIHsKICAgICAgICAgIHZhciBTID0gSU9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pOwogICAgICAgICAgdmFyIGtleXMgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpOwogICAgICAgICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoOwogICAgICAgICAgdmFyIGogPSAwOwogICAgICAgICAgdmFyIGtleTsKCiAgICAgICAgICB3aGlsZSAobGVuZ3RoID4gaikgewogICAgICAgICAgICBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFQ7CiAgICAgIH0gOiAkYXNzaWduOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDY1ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgdmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApOwoKICAgICAgdmFyIHRvSU9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7CgogICAgICB2YXIgYXJyYXlJbmRleE9mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NikoZmFsc2UpOwoKICAgICAgdmFyIElFX1BST1RPID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMykoJ0lFX1BST1RPJyk7CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7CiAgICAgICAgdmFyIE8gPSB0b0lPYmplY3Qob2JqZWN0KTsKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICAgIHZhciBrZXk7CgogICAgICAgIGZvciAoa2V5IGluIE8pIHsKICAgICAgICAgIGlmIChrZXkgIT0gSUVfUFJPVE8pIGhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7CiAgICAgICAgfSAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzCgoKICAgICAgICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgewogICAgICAgICAgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkgewogICAgICAgICAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogNjYgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mCiAgICAgIC8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzCiAgICAgIHZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpOwoKICAgICAgdmFyIHRvTGVuZ3RoID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7CgogICAgICB2YXIgdG9BYnNvbHV0ZUluZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHsKICAgICAgICAgIHZhciBPID0gdG9JT2JqZWN0KCR0aGlzKTsKICAgICAgICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7CiAgICAgICAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpOwogICAgICAgICAgdmFyIHZhbHVlOyAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCgogICAgICAgICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHsKICAgICAgICAgICAgdmFsdWUgPSBPW2luZGV4KytdOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCgogICAgICAgICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlOyAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90CiAgICAgICAgICB9IGVsc2UgZm9yICg7IGxlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7CiAgICAgICAgICAgIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7CiAgICAgICAgICAgICAgaWYgKE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7CiAgICAgICAgfTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogNjcgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICB2YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7CgogICAgICB2YXIgbWF4ID0gTWF0aC5tYXg7CiAgICAgIHZhciBtaW4gPSBNYXRoLm1pbjsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHsKICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7CiAgICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDY4ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA2OSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBfT2JqZWN0JGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTsKCiAgICAgIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsKICAgICAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsKICAgICAgICB2YXIgdGFyZ2V0ID0ge307CgogICAgICAgIHZhciBzb3VyY2VLZXlzID0gX09iamVjdCRrZXlzKHNvdXJjZSk7CgogICAgICAgIHZhciBrZXksIGk7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBrZXkgPSBzb3VyY2VLZXlzW2ldOwogICAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsKICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGFyZ2V0OwogICAgICB9CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDcwICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMCkuT2JqZWN0LmtleXM7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNzEgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvLyAxOS4xLjIuMTQgT2JqZWN0LmtleXMoTykKICAgICAgdmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7CgogICAgICB2YXIgJGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTsKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMzQpKCdrZXlzJywgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KSB7CiAgICAgICAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTsKICAgICAgICB9OwogICAgICB9KTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogNzIgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzMpOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDczICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgLyoqCiAgICAgICAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLgogICAgICAgKgogICAgICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGUKICAgICAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgogICAgICAgKi8KICAgICAgLy8gVGhpcyBtZXRob2Qgb2Ygb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0IG5lZWRzIHRvIGJlCiAgICAgIC8vIGtlcHQgaWRlbnRpY2FsIHRvIHRoZSB3YXkgaXQgaXMgb2J0YWluZWQgaW4gcnVudGltZS5qcwogICAgICB2YXIgZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcyB8fCB0eXBlb2Ygc2VsZiA9PT0gIm9iamVjdCIgJiYgc2VsZjsKICAgICAgfSgpIHx8IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7IC8vIFVzZSBgZ2V0T3duUHJvcGVydHlOYW1lc2AgYmVjYXVzZSBub3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgY2FsbGluZwogICAgICAvLyBgaGFzT3duUHJvcGVydHlgIG9uIHRoZSBnbG9iYWwgYHNlbGZgIG9iamVjdCBpbiBhIHdvcmtlci4gU2VlICMxODMuCgoKICAgICAgdmFyIGhhZFJ1bnRpbWUgPSBnLnJlZ2VuZXJhdG9yUnVudGltZSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhnKS5pbmRleE9mKCJyZWdlbmVyYXRvclJ1bnRpbWUiKSA+PSAwOyAvLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuCgogICAgICB2YXIgb2xkUnVudGltZSA9IGhhZFJ1bnRpbWUgJiYgZy5yZWdlbmVyYXRvclJ1bnRpbWU7IC8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy4KCiAgICAgIGcucmVnZW5lcmF0b3JSdW50aW1lID0gdW5kZWZpbmVkOwogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpOwoKICAgICAgaWYgKGhhZFJ1bnRpbWUpIHsKICAgICAgICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBydW50aW1lLgogICAgICAgIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBSZW1vdmUgdGhlIGdsb2JhbCBwcm9wZXJ0eSBhZGRlZCBieSBydW50aW1lLmpzLgogICAgICAgIHRyeSB7CiAgICAgICAgICBkZWxldGUgZy5yZWdlbmVyYXRvclJ1bnRpbWU7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDc0ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgLyoqCiAgICAgICAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLgogICAgICAgKgogICAgICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGUKICAgICAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgogICAgICAgKi8KICAgICAgIWZ1bmN0aW9uIChnbG9iYWwpIHsKICAgICAgICAidXNlIHN0cmljdCI7CgogICAgICAgIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7CiAgICAgICAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5OwogICAgICAgIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLgoKICAgICAgICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgPyBTeW1ib2wgOiB7fTsKICAgICAgICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8ICJAQGl0ZXJhdG9yIjsKICAgICAgICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCAiQEBhc3luY0l0ZXJhdG9yIjsKICAgICAgICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8ICJAQHRvU3RyaW5nVGFnIjsKICAgICAgICB2YXIgaW5Nb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09PSAib2JqZWN0IjsKICAgICAgICB2YXIgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWU7CgogICAgICAgIGlmIChydW50aW1lKSB7CiAgICAgICAgICBpZiAoaW5Nb2R1bGUpIHsKICAgICAgICAgICAgLy8gSWYgcmVnZW5lcmF0b3JSdW50aW1lIGlzIGRlZmluZWQgZ2xvYmFsbHkgYW5kIHdlJ3JlIGluIGEgbW9kdWxlLAogICAgICAgICAgICAvLyBtYWtlIHRoZSBleHBvcnRzIG9iamVjdCBpZGVudGljYWwgdG8gcmVnZW5lcmF0b3JSdW50aW1lLgogICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7CiAgICAgICAgICB9IC8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXMKICAgICAgICAgIC8vIGFscmVhZHkgZGVmaW5lZCBnbG9iYWxseS4KCgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyCiAgICAgICAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LgoKCiAgICAgICAgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWUgPSBpbk1vZHVsZSA/IG1vZHVsZS5leHBvcnRzIDoge307CgogICAgICAgIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHsKICAgICAgICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLgogICAgICAgICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7CiAgICAgICAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpOwogICAgICAgICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7IC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCwKICAgICAgICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy4KCiAgICAgICAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7CiAgICAgICAgICByZXR1cm4gZ2VuZXJhdG9yOwogICAgICAgIH0KCiAgICAgICAgcnVudGltZS53cmFwID0gd3JhcDsgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uCiAgICAgICAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkCiAgICAgICAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlCiAgICAgICAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZQogICAgICAgIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWQKICAgICAgICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nCiAgICAgICAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWUKICAgICAgICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGUKICAgICAgICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoCiAgICAgICAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLgoKICAgICAgICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgdHlwZTogIm5vcm1hbCIsCiAgICAgICAgICAgICAgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKQogICAgICAgICAgICB9OwogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgdHlwZTogInRocm93IiwKICAgICAgICAgICAgICBhcmc6IGVycgogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSAic3VzcGVuZGVkU3RhcnQiOwogICAgICAgIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gInN1c3BlbmRlZFlpZWxkIjsKICAgICAgICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSAiZXhlY3V0aW5nIjsKICAgICAgICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSAiY29tcGxldGVkIjsgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhcwogICAgICAgIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC4KCiAgICAgICAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTsgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kCiAgICAgICAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yCiAgICAgICAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXIKICAgICAgICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLgoKICAgICAgICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fQoKICAgICAgICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9CgogICAgICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdAogICAgICAgIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuCgoKICAgICAgICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTsKCiAgICAgICAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mOwogICAgICAgIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTsKCiAgICAgICAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJiBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7CiAgICAgICAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZAogICAgICAgICAgLy8gb2YgdGhlIHBvbHlmaWxsLgogICAgICAgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTsKICAgICAgICB9CgogICAgICAgIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTsKICAgICAgICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlOwogICAgICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247CiAgICAgICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID0gR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSAiR2VuZXJhdG9yRnVuY3Rpb24iOyAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZQogICAgICAgIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuCgogICAgICAgIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHsKICAgICAgICAgIFsibmV4dCIsICJ0aHJvdyIsICJyZXR1cm4iXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoYXJnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uIChnZW5GdW4pIHsKICAgICAgICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gImZ1bmN0aW9uIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7CiAgICAgICAgICByZXR1cm4gY3RvciA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8IC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW4KICAgICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS4KICAgICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09ICJHZW5lcmF0b3JGdW5jdGlvbiIgOiBmYWxzZTsKICAgICAgICB9OwoKICAgICAgICBydW50aW1lLm1hcmsgPSBmdW5jdGlvbiAoZ2VuRnVuKSB7CiAgICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7CiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTsKCiAgICAgICAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHsKICAgICAgICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gIkdlbmVyYXRvckZ1bmN0aW9uIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTsKICAgICAgICAgIHJldHVybiBnZW5GdW47CiAgICAgICAgfTsgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvCiAgICAgICAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3QKICAgICAgICAvLyBgaGFzT3duLmNhbGwodmFsdWUsICJfX2F3YWl0IilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpcwogICAgICAgIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuCgoKICAgICAgICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24gKGFyZykgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgX19hd2FpdDogYXJnCiAgICAgICAgICB9OwogICAgICAgIH07CgogICAgICAgIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7CiAgICAgICAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTsKCiAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7CgogICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICJvYmplY3QiICYmIGhhc093bi5jYWxsKHZhbHVlLCAiX19hd2FpdCIpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIGludm9rZSgibmV4dCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBpbnZva2UoInRocm93IiwgZXJyLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh1bndyYXBwZWQpIHsKICAgICAgICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzCiAgICAgICAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGUKICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLgogICAgICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkOwogICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2sKICAgICAgICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS4KICAgICAgICAgICAgICAgIHJldHVybiBpbnZva2UoInRocm93IiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgcHJldmlvdXNQcm9taXNlOwoKICAgICAgICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHsKICAgICAgICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9IC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWwKICAgICAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsCiAgICAgICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWYKICAgICAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG8KICAgICAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsCiAgICAgICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvCiAgICAgICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHkKICAgICAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHMKICAgICAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHkKICAgICAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGUKICAgICAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHkKICAgICAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLgogICAgICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXIKICAgICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLgogICAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOwogICAgICAgICAgfSAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LAogICAgICAgICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuCgoKICAgICAgICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7CiAgICAgICAgfQoKICAgICAgICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpOwoKICAgICAgICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH07CgogICAgICAgIHJ1bnRpbWUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7IC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2YKICAgICAgICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2YKICAgICAgICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci4KCiAgICAgICAgcnVudGltZS5hc3luYyA9IGZ1bmN0aW9uIChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkgewogICAgICAgICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSk7CiAgICAgICAgICByZXR1cm4gcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuCiAgICAgICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkgewogICAgICAgICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHsKICAgICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykgewogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7CiAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gInRocm93IikgewogICAgICAgICAgICAgICAgdGhyb3cgYXJnOwogICAgICAgICAgICAgIH0gLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzoKICAgICAgICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lCgoKICAgICAgICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDsKICAgICAgICAgICAgY29udGV4dC5hcmcgPSBhcmc7CgogICAgICAgICAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7CgogICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZSkgewogICAgICAgICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7CgogICAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gIm5leHQiKSB7CiAgICAgICAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uCiAgICAgICAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gInRocm93IikgewogICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7CiAgICAgICAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7CiAgICAgICAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09ICJyZXR1cm4iKSB7CiAgICAgICAgICAgICAgICBjb250ZXh0LmFicnVwdCgicmV0dXJuIiwgY29udGV4dC5hcmcpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZzsKICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7CgogICAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gIm5vcm1hbCIpIHsKICAgICAgICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT0KICAgICAgICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi4KICAgICAgICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lID8gR2VuU3RhdGVDb21wbGV0ZWQgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkOwoKICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLAogICAgICAgICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDsgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZQogICAgICAgICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS4KCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyI7CiAgICAgICAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0gLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlCiAgICAgICAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZQogICAgICAgIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLAogICAgICAgIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLgoKCiAgICAgICAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkgewogICAgICAgICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTsKCiAgICAgICAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93CiAgICAgICAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuCiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsOwoKICAgICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yWyJyZXR1cm4iXSkgewogICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYQogICAgICAgICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLgogICAgICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSAicmV0dXJuIjsKICAgICAgICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7CgogICAgICAgICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tCiAgICAgICAgICAgICAgICAgIC8vICJyZXR1cm4iIHRvICJ0aHJvdyIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuCiAgICAgICAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSAidGhyb3ciOwogICAgICAgICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZCIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpOwoKICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyI7CiAgICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7CiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZzsKCiAgICAgICAgICBpZiAoIWluZm8pIHsKICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSAidGhyb3ciOwogICAgICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0Iik7CiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsOwogICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaW5mby5kb25lKSB7CiAgICAgICAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5CiAgICAgICAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuCiAgICAgICAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlOyAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuCgogICAgICAgICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jOyAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgInRocm93IiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlCiAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWYKICAgICAgICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzICJuZXh0IiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuCiAgICAgICAgICAgIC8vICJjb25zdW1lZCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXMKICAgICAgICAgICAgLy8gInJldHVybiIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlCiAgICAgICAgICAgIC8vIG91dGVyIGdlbmVyYXRvci4KCiAgICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gInJldHVybiIpIHsKICAgICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJuZXh0IjsKICAgICAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLgogICAgICAgICAgICByZXR1cm4gaW5mbzsKICAgICAgICAgIH0gLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGgKICAgICAgICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuCgoKICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsOwogICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgfSAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZQogICAgICAgIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC4KCgogICAgICAgIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7CiAgICAgICAgR3BbdG9TdHJpbmdUYWdTeW1ib2xdID0gIkdlbmVyYXRvciI7IC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlCiAgICAgICAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGUKICAgICAgICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvcgogICAgICAgIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLgogICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLgoKICAgICAgICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9OwoKICAgICAgICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAiW29iamVjdCBHZW5lcmF0b3JdIjsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykgewogICAgICAgICAgdmFyIGVudHJ5ID0gewogICAgICAgICAgICB0cnlMb2M6IGxvY3NbMF0KICAgICAgICAgIH07CgogICAgICAgICAgaWYgKDEgaW4gbG9jcykgewogICAgICAgICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKDIgaW4gbG9jcykgewogICAgICAgICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTsKICAgICAgICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHsKICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9OwogICAgICAgICAgcmVjb3JkLnR5cGUgPSAibm9ybWFsIjsKICAgICAgICAgIGRlbGV0ZSByZWNvcmQuYXJnOwogICAgICAgICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHsKICAgICAgICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaAogICAgICAgICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbQogICAgICAgICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LgogICAgICAgICAgdGhpcy50cnlFbnRyaWVzID0gW3sKICAgICAgICAgICAgdHJ5TG9jOiAicm9vdCIKICAgICAgICAgIH1dOwogICAgICAgICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpOwogICAgICAgICAgdGhpcy5yZXNldCh0cnVlKTsKICAgICAgICB9CgogICAgICAgIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHsKICAgICAgICAgIHZhciBrZXlzID0gW107CgogICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkgewogICAgICAgICAgICBrZXlzLnB1c2goa2V5KTsKICAgICAgICAgIH0KCiAgICAgICAgICBrZXlzLnJldmVyc2UoKTsgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXAKICAgICAgICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuCgogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgICAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkgewogICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpOwoKICAgICAgICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkgewogICAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTsKICAgICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZQogICAgICAgICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpcwogICAgICAgICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi4KCgogICAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlOwogICAgICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7CiAgICAgICAgICBpZiAoaXRlcmFibGUpIHsKICAgICAgICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdOwoKICAgICAgICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlcmFibGU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkgewogICAgICAgICAgICAgIHZhciBpID0gLTEsCiAgICAgICAgICAgICAgICAgIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkgewogICAgICAgICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldOwogICAgICAgICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuCgoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG5leHQ6IGRvbmVSZXN1bHQKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBydW50aW1lLnZhbHVlcyA9IHZhbHVlczsKCiAgICAgICAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsCiAgICAgICAgICAgIGRvbmU6IHRydWUKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBDb250ZXh0LnByb3RvdHlwZSA9IHsKICAgICAgICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LAogICAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNraXBUZW1wUmVzZXQpIHsKICAgICAgICAgICAgdGhpcy5wcmV2ID0gMDsKICAgICAgICAgICAgdGhpcy5uZXh0ID0gMDsgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKICAgICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4KCiAgICAgICAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5tZXRob2QgPSAibmV4dCI7CiAgICAgICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkOwogICAgICAgICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTsKCiAgICAgICAgICAgIGlmICghc2tpcFRlbXBSZXNldCkgewogICAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykgewogICAgICAgICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczoKICAgICAgICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gInQiICYmIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHsKICAgICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlOwogICAgICAgICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdOwogICAgICAgICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uOwoKICAgICAgICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdGhpcy5ydmFsOwogICAgICAgICAgfSwKICAgICAgICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihleGNlcHRpb24pIHsKICAgICAgICAgICAgaWYgKHRoaXMuZG9uZSkgewogICAgICAgICAgICAgIHRocm93IGV4Y2VwdGlvbjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzOwoKICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7CiAgICAgICAgICAgICAgcmVjb3JkLnR5cGUgPSAidGhyb3ciOwogICAgICAgICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247CiAgICAgICAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jOwoKICAgICAgICAgICAgICBpZiAoY2F1Z2h0KSB7CiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLAogICAgICAgICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS4KICAgICAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gIm5leHQiOwogICAgICAgICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gISFjYXVnaHQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07CiAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247CgogICAgICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09ICJyb290IikgewogICAgICAgICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGUKICAgICAgICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0bwogICAgICAgICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi4KICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoImVuZCIpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHsKICAgICAgICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCAiY2F0Y2hMb2MiKTsKICAgICAgICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksICJmaW5hbGx5TG9jIik7CgogICAgICAgICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHsKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHsKICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkgewogICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0eXBlLCBhcmcpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKCiAgICAgICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgaGFzT3duLmNhbGwoZW50cnksICJmaW5hbGx5TG9jIikgJiYgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykgewogICAgICAgICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZmluYWxseUVudHJ5ICYmICh0eXBlID09PSAiYnJlYWsiIHx8IHR5cGUgPT09ICJjb250aW51ZSIpICYmIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykgewogICAgICAgICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGEKICAgICAgICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suCiAgICAgICAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307CiAgICAgICAgICAgIHJlY29yZC50eXBlID0gdHlwZTsKICAgICAgICAgICAgcmVjb3JkLmFyZyA9IGFyZzsKCiAgICAgICAgICAgIGlmIChmaW5hbGx5RW50cnkpIHsKICAgICAgICAgICAgICB0aGlzLm1ldGhvZCA9ICJuZXh0IjsKICAgICAgICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYzsKICAgICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVjb3JkLCBhZnRlckxvYykgewogICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICJ0aHJvdyIpIHsKICAgICAgICAgICAgICB0aHJvdyByZWNvcmQuYXJnOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICJicmVhayIgfHwgcmVjb3JkLnR5cGUgPT09ICJjb250aW51ZSIpIHsKICAgICAgICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSAicmV0dXJuIikgewogICAgICAgICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgICB0aGlzLm1ldGhvZCA9ICJyZXR1cm4iOwogICAgICAgICAgICAgIHRoaXMubmV4dCA9ICJlbmQiOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSAibm9ybWFsIiAmJiBhZnRlckxvYykgewogICAgICAgICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICAgIH0sCiAgICAgICAgICBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaChmaW5hbGx5TG9jKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07CgogICAgICAgICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTsKICAgICAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpOwogICAgICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgImNhdGNoIjogZnVuY3Rpb24gX2NhdGNoKHRyeUxvYykgewogICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOwoKICAgICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHsKICAgICAgICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uOwoKICAgICAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIHRocm93bjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uCiAgICAgICAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay4KCgogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpOwogICAgICAgICAgfSwKICAgICAgICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHsKICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHsKICAgICAgICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSwKICAgICAgICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLAogICAgICAgICAgICAgIG5leHRMb2M6IG5leHRMb2MKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gIm5leHQiKSB7CiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3QKICAgICAgICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuCiAgICAgICAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0oIC8vIEluIHNsb3BweSBtb2RlLCB1bmJvdW5kIGB0aGlzYCByZWZlcnMgdG8gdGhlIGdsb2JhbCBvYmplY3QsIGZhbGxiYWNrIHRvCiAgICAgIC8vIEZ1bmN0aW9uIGNvbnN0cnVjdG9yIGlmIHdlJ3JlIGluIGdsb2JhbCBzdHJpY3QgbW9kZS4gVGhhdCBpcyBzYWRseSBhIGZvcm0KICAgICAgLy8gb2YgaW5kaXJlY3QgZXZhbCB3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeS4KICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzIHx8IHR5cGVvZiBzZWxmID09PSAib2JqZWN0IiAmJiBzZWxmOwogICAgICB9KCkgfHwgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKSk7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNzUgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICAvKioKICAgICAgICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuCiAgICAgICAqCiAgICAgICAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZQogICAgICAgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCiAgICAgICAqLwogICAgICAhZnVuY3Rpb24gKGdsb2JhbCkgewogICAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgICAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTsKICAgICAgICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7CiAgICAgICAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuCgogICAgICAgIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiA/IFN5bWJvbCA6IHt9OwogICAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgIkBAaXRlcmF0b3IiOwogICAgICAgIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8ICJAQGFzeW5jSXRlcmF0b3IiOwogICAgICAgIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgIkBAdG9TdHJpbmdUYWciOwogICAgICAgIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09ICJvYmplY3QiOwogICAgICAgIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTsKCiAgICAgICAgaWYgKHJ1bnRpbWUpIHsKICAgICAgICAgIGlmIChpbk1vZHVsZSkgewogICAgICAgICAgICAvLyBJZiByZWdlbmVyYXRvclJ1bnRpbWUgaXMgZGVmaW5lZCBnbG9iYWxseSBhbmQgd2UncmUgaW4gYSBtb2R1bGUsCiAgICAgICAgICAgIC8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuCiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gcnVudGltZTsKICAgICAgICAgIH0gLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhcwogICAgICAgICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LgoKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXIKICAgICAgICAvLyBtb2R1bGUuZXhwb3J0cyAoaWYgd2UncmUgaW4gYSBtb2R1bGUpIG9yIGEgbmV3LCBlbXB0eSBvYmplY3QuCgoKICAgICAgICBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZSA9IGluTW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgOiB7fTsKCiAgICAgICAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkgewogICAgICAgICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuCiAgICAgICAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjsKICAgICAgICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7CiAgICAgICAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTsgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LAogICAgICAgICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLgoKICAgICAgICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTsKICAgICAgICAgIHJldHVybiBnZW5lcmF0b3I7CiAgICAgICAgfQoKICAgICAgICBydW50aW1lLndyYXAgPSB3cmFwOyAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb24KICAgICAgICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGQKICAgICAgICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmUKICAgICAgICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlCiAgICAgICAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZAogICAgICAgIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmcKICAgICAgICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZQogICAgICAgIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZQogICAgICAgIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2gKICAgICAgICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuCgogICAgICAgIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICB0eXBlOiAibm9ybWFsIiwKICAgICAgICAgICAgICBhcmc6IGZuLmNhbGwob2JqLCBhcmcpCiAgICAgICAgICAgIH07CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICB0eXBlOiAidGhyb3ciLAogICAgICAgICAgICAgIGFyZzogZXJyCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9ICJzdXNwZW5kZWRTdGFydCI7CiAgICAgICAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSAic3VzcGVuZGVkWWllbGQiOwogICAgICAgIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9ICJleGVjdXRpbmciOwogICAgICAgIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9ICJjb21wbGV0ZWQiOyAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzCiAgICAgICAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LgoKICAgICAgICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9OyAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmQKICAgICAgICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3IKICAgICAgICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91cgogICAgICAgIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuCgogICAgICAgIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9CgogICAgICAgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30KCiAgICAgICAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0CiAgICAgICAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC4KCgogICAgICAgIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9OwoKICAgICAgICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9OwoKICAgICAgICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7CiAgICAgICAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpOwoKICAgICAgICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiYgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHsKICAgICAgICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkCiAgICAgICAgICAvLyBvZiB0aGUgcG9seWZpbGwuCiAgICAgICAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlOwogICAgICAgIH0KCiAgICAgICAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpOwogICAgICAgIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7CiAgICAgICAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjsKICAgICAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9ICJHZW5lcmF0b3JGdW5jdGlvbiI7IC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlCiAgICAgICAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC4KCiAgICAgICAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkgewogICAgICAgICAgWyJuZXh0IiwgInRocm93IiwgInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgewogICAgICAgICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uIChhcmcpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKGdlbkZ1bikgewogICAgICAgICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSAiZnVuY3Rpb24iICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjsKICAgICAgICAgIHJldHVybiBjdG9yID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhbgogICAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LgogICAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gIkdlbmVyYXRvckZ1bmN0aW9uIiA6IGZhbHNlOwogICAgICAgIH07CgogICAgICAgIHJ1bnRpbWUubWFyayA9IGZ1bmN0aW9uIChnZW5GdW4pIHsKICAgICAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHsKICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlOwoKICAgICAgICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkgewogICAgICAgICAgICAgIGdlbkZ1blt0b1N0cmluZ1RhZ1N5bWJvbF0gPSAiR2VuZXJhdG9yRnVuY3Rpb24iOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApOwogICAgICAgICAgcmV0dXJuIGdlbkZ1bjsKICAgICAgICB9OyAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG8KICAgICAgICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdAogICAgICAgIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgIl9fYXdhaXQiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzCiAgICAgICAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4KCgogICAgICAgIHJ1bnRpbWUuYXdyYXAgPSBmdW5jdGlvbiAoYXJnKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBfX2F3YWl0OiBhcmcKICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IpIHsKICAgICAgICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpOwoKICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnOwogICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gIm9iamVjdCIgJiYgaGFzT3duLmNhbGwodmFsdWUsICJfX2F3YWl0IikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgaW52b2tlKCJuZXh0IiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGludm9rZSgidGhyb3ciLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHVud3JhcHBlZCkgewogICAgICAgICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXMKICAgICAgICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZQogICAgICAgICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uCiAgICAgICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7CiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFjawogICAgICAgICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLgogICAgICAgICAgICAgICAgcmV0dXJuIGludm9rZSgidGhyb3ciLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHZhciBwcmV2aW91c1Byb21pc2U7CgogICAgICAgICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykgewogICAgICAgICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsKICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID0gLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbAogICAgICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSwKICAgICAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZgogICAgICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0bwogICAgICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSwKICAgICAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG8KICAgICAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eQogICAgICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0cwogICAgICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseQogICAgICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZQogICAgICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseQogICAgICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuCiAgICAgICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlcgogICAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuCiAgICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7CiAgICAgICAgICB9IC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsCiAgICAgICAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS4KCgogICAgICAgICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTsKICAgICAgICB9CgogICAgICAgIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7CgogICAgICAgIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfTsKCiAgICAgICAgcnVudGltZS5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjsgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZgogICAgICAgIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZgogICAgICAgIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLgoKICAgICAgICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24gKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7CiAgICAgICAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpKTsKICAgICAgICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci4KICAgICAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7CiAgICAgICAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0OwogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykgewogICAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHsKICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBhcmc7CiAgICAgICAgICAgICAgfSAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOgogICAgICAgICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWUKCgogICAgICAgICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kOwogICAgICAgICAgICBjb250ZXh0LmFyZyA9IGFyZzsKCiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTsKCiAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlKSB7CiAgICAgICAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsKCiAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSAibmV4dCIpIHsKICAgICAgICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwncwogICAgICAgICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4KICAgICAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZzsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHsKICAgICAgICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDsKICAgICAgICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gInJldHVybiIpIHsKICAgICAgICAgICAgICAgIGNvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBjb250ZXh0LmFyZyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nOwogICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTsKCiAgICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSAibm9ybWFsIikgewogICAgICAgICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PQogICAgICAgICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLgogICAgICAgICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmUgPyBHZW5TdGF0ZUNvbXBsZXRlZCA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7CgogICAgICAgICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHsKICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsCiAgICAgICAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkOyAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlCiAgICAgICAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLgoKICAgICAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gInRocm93IjsKICAgICAgICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfSAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGUKICAgICAgICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlCiAgICAgICAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsCiAgICAgICAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuCgoKICAgICAgICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7CiAgICAgICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdOwoKICAgICAgICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3cKICAgICAgICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC4KICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7CgogICAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09ICJ0aHJvdyIpIHsKICAgICAgICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbInJldHVybiJdKSB7CiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhCiAgICAgICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJyZXR1cm4iOwogICAgICAgICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsKCiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09ICJ0aHJvdyIpIHsKICAgICAgICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb20KICAgICAgICAgICAgICAgICAgLy8gInJldHVybiIgdG8gInRocm93IiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy4KICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyI7CiAgICAgICAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7CgogICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gInRocm93IjsKICAgICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnOwogICAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDsKICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGluZm8gPSByZWNvcmQuYXJnOwoKICAgICAgICAgIGlmICghaW5mbykgewogICAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyI7CiAgICAgICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKTsKICAgICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7CiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHsKICAgICAgICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnkKICAgICAgICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS4KICAgICAgICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7IC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS4KCiAgICAgICAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7IC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyAidGhyb3ciIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGUKICAgICAgICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZgogICAgICAgICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgIm5leHQiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW4KICAgICAgICAgICAgLy8gImNvbnN1bWVkIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhcwogICAgICAgICAgICAvLyAicmV0dXJuIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGUKICAgICAgICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLgoKICAgICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSAicmV0dXJuIikgewogICAgICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gIm5leHQiOwogICAgICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuCiAgICAgICAgICAgIHJldHVybiBpbmZvOwogICAgICAgICAgfSAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aAogICAgICAgICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci4KCgogICAgICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7CiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICB9IC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlCiAgICAgICAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLgoKCiAgICAgICAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTsKICAgICAgICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSAiR2VuZXJhdG9yIjsgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGUKICAgICAgICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZQogICAgICAgIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yCiAgICAgICAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uCiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuCgogICAgICAgIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH07CgogICAgICAgIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuICJbb2JqZWN0IEdlbmVyYXRvcl0iOwogICAgICAgIH07CgogICAgICAgIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7CiAgICAgICAgICB2YXIgZW50cnkgPSB7CiAgICAgICAgICAgIHRyeUxvYzogbG9jc1swXQogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAoMSBpbiBsb2NzKSB7CiAgICAgICAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoMiBpbiBsb2NzKSB7CiAgICAgICAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdOwogICAgICAgICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkgewogICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307CiAgICAgICAgICByZWNvcmQudHlwZSA9ICJub3JtYWwiOwogICAgICAgICAgZGVsZXRlIHJlY29yZC5hcmc7CiAgICAgICAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkgewogICAgICAgICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoCiAgICAgICAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tCiAgICAgICAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuCiAgICAgICAgICB0aGlzLnRyeUVudHJpZXMgPSBbewogICAgICAgICAgICB0cnlMb2M6ICJyb290IgogICAgICAgICAgfV07CiAgICAgICAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7CiAgICAgICAgICB0aGlzLnJlc2V0KHRydWUpOwogICAgICAgIH0KCiAgICAgICAgcnVudGltZS5rZXlzID0gZnVuY3Rpb24gKG9iamVjdCkgewogICAgICAgICAgdmFyIGtleXMgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7CiAgICAgICAgICAgIGtleXMucHVzaChrZXkpOwogICAgICAgICAgfQoKICAgICAgICAgIGtleXMucmV2ZXJzZSgpOyAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcAogICAgICAgICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi4KCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7CgogICAgICAgICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7CiAgICAgICAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5OwogICAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlCiAgICAgICAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzCiAgICAgICAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLgoKCiAgICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiBuZXh0OwogICAgICAgICAgfTsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHsKICAgICAgICAgIGlmIChpdGVyYWJsZSkgewogICAgICAgICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07CgogICAgICAgICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgIHJldHVybiBpdGVyYWJsZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgdmFyIGkgPSAtMSwKICAgICAgICAgICAgICAgICAgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgICAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07CiAgICAgICAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybiBuZXh0OwogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0OwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy4KCgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbmV4dDogZG9uZVJlc3VsdAogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIHJ1bnRpbWUudmFsdWVzID0gdmFsdWVzOwoKICAgICAgICBmdW5jdGlvbiBkb25lUmVzdWx0KCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCwKICAgICAgICAgICAgZG9uZTogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIENvbnRleHQucHJvdG90eXBlID0gewogICAgICAgICAgY29uc3RydWN0b3I6IENvbnRleHQsCiAgICAgICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoc2tpcFRlbXBSZXNldCkgewogICAgICAgICAgICB0aGlzLnByZXYgPSAwOwogICAgICAgICAgICB0aGlzLm5leHQgPSAwOyAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwncwogICAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLgoKICAgICAgICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsOwogICAgICAgICAgICB0aGlzLm1ldGhvZCA9ICJuZXh0IjsKICAgICAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpOwoKICAgICAgICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7CiAgICAgICAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOgogICAgICAgICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSAidCIgJiYgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiYgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkgewogICAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7CiAgICAgICAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07CiAgICAgICAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247CgogICAgICAgICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB0aGlzLnJ2YWw7CiAgICAgICAgICB9LAogICAgICAgICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGV4Y2VwdGlvbikgewogICAgICAgICAgICBpZiAodGhpcy5kb25lKSB7CiAgICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7CgogICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHsKICAgICAgICAgICAgICByZWNvcmQudHlwZSA9ICJ0aHJvdyI7CiAgICAgICAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjsKICAgICAgICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7CgogICAgICAgICAgICAgIGlmIChjYXVnaHQpIHsKICAgICAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssCiAgICAgICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LgogICAgICAgICAgICAgICAgY29udGV4dC5tZXRob2QgPSAibmV4dCI7CiAgICAgICAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiAhIWNhdWdodDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsKCiAgICAgICAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gInJvb3QiKSB7CiAgICAgICAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZQogICAgICAgICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvCiAgICAgICAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLgogICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZSgiZW5kIik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikgewogICAgICAgICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksICJjYXRjaExvYyIpOwogICAgICAgICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKTsKCiAgICAgICAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkgewogICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkgewogICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHR5cGUsIGFyZykgewogICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOwoKICAgICAgICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKSAmJiB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7CiAgICAgICAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChmaW5hbGx5RW50cnkgJiYgKHR5cGUgPT09ICJicmVhayIgfHwgdHlwZSA9PT0gImNvbnRpbnVlIikgJiYgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7CiAgICAgICAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYQogICAgICAgICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay4KICAgICAgICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTsKICAgICAgICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlOwogICAgICAgICAgICByZWNvcmQuYXJnID0gYXJnOwoKICAgICAgICAgICAgaWYgKGZpbmFsbHlFbnRyeSkgewogICAgICAgICAgICAgIHRoaXMubWV0aG9kID0gIm5leHQiOwogICAgICAgICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jOwogICAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZWNvcmQsIGFmdGVyTG9jKSB7CiAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgICAgICAgIHRocm93IHJlY29yZC5hcmc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gImJyZWFrIiB8fCByZWNvcmQudHlwZSA9PT0gImNvbnRpbnVlIikgewogICAgICAgICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09ICJyZXR1cm4iKSB7CiAgICAgICAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnOwogICAgICAgICAgICAgIHRoaXMubWV0aG9kID0gInJldHVybiI7CiAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gImVuZCI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09ICJub3JtYWwiICYmIGFmdGVyTG9jKSB7CiAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgICAgfSwKICAgICAgICAgIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKGZpbmFsbHlMb2MpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKCiAgICAgICAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHsKICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpOwogICAgICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7CiAgICAgICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiY2F0Y2giOiBmdW5jdGlvbiBfY2F0Y2godHJ5TG9jKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHsKICAgICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07CgogICAgICAgICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykgewogICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247CgogICAgICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnOwogICAgICAgICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3duOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb24KICAgICAgICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLgoKCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iik7CiAgICAgICAgICB9LAogICAgICAgICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykgewogICAgICAgICAgICB0aGlzLmRlbGVnYXRlID0gewogICAgICAgICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLAogICAgICAgICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsCiAgICAgICAgICAgICAgbmV4dExvYzogbmV4dExvYwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgaWYgKHRoaXMubWV0aG9kID09PSAibmV4dCIpIHsKICAgICAgICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndAogICAgICAgICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS4KICAgICAgICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSggLy8gSW4gc2xvcHB5IG1vZGUsIHVuYm91bmQgYHRoaXNgIHJlZmVycyB0byB0aGUgZ2xvYmFsIG9iamVjdCwgZmFsbGJhY2sgdG8KICAgICAgLy8gRnVuY3Rpb24gY29uc3RydWN0b3IgaWYgd2UncmUgaW4gZ2xvYmFsIHN0cmljdCBtb2RlLiBUaGF0IGlzIHNhZGx5IGEgZm9ybQogICAgICAvLyBvZiBpbmRpcmVjdCBldmFsIHdoaWNoIHZpb2xhdGVzIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5LgogICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMgfHwgdHlwZW9mIHNlbGYgPT09ICJvYmplY3QiICYmIHNlbGY7CiAgICAgIH0oKSB8fCBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpKTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA3NiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBfUHJvbWlzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpOwoKICAgICAgZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7CiAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGluZm8uZG9uZSkgewogICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF9Qcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgICAgICAgYXJncyA9IGFyZ3VtZW50czsKICAgICAgICAgIHJldHVybiBuZXcgX1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7CgogICAgICAgICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkgewogICAgICAgICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHsKICAgICAgICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9uZXh0KHVuZGVmaW5lZCk7CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICB9CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDc3ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA3OCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oNzkpOwoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7CgogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTsKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oOTApOwoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpOwoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygxMDMpOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApLlByb21pc2U7CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogNzkgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICAvKioqLwogICAgfSwKICAgIC8qIDgwICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyICRhdCA9IF9fd2VicGFja19yZXF1aXJlX18oODEpKHRydWUpOyAvLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpCgoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0MSkoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7CiAgICAgICAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldAoKICAgICAgICB0aGlzLl9pID0gMDsgLy8gbmV4dCBpbmRleAogICAgICAgIC8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KCkKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBPID0gdGhpcy5fdDsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9pOwogICAgICAgIHZhciBwb2ludDsKICAgICAgICBpZiAoaW5kZXggPj0gTy5sZW5ndGgpIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLAogICAgICAgICAgZG9uZTogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcG9pbnQgPSAkYXQoTywgaW5kZXgpOwogICAgICAgIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogcG9pbnQsCiAgICAgICAgICBkb25lOiBmYWxzZQogICAgICAgIH07CiAgICAgIH0pOwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA4MSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTsKCiAgICAgIHZhciBkZWZpbmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7IC8vIHRydWUgIC0+IFN0cmluZyNhdAogICAgICAvLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXQKCgogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChUT19TVFJJTkcpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykgewogICAgICAgICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7CiAgICAgICAgICB2YXIgaSA9IHRvSW50ZWdlcihwb3MpOwogICAgICAgICAgdmFyIGwgPSBzLmxlbmd0aDsKICAgICAgICAgIHZhciBhLCBiOwogICAgICAgICAgaWYgKGkgPCAwIHx8IGkgPj0gbCkgcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkOwogICAgICAgICAgYSA9IHMuY2hhckNvZGVBdChpKTsKICAgICAgICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwOwogICAgICAgIH07CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDgyICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDgzICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpOwoKICAgICAgdmFyIGRlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTsKCiAgICAgIHZhciBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpOwoKICAgICAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307IC8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpCgogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpKEl0ZXJhdG9yUHJvdG90eXBlLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0pOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHsKICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsKICAgICAgICAgIG5leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCkKICAgICAgICB9KTsKICAgICAgICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogODQgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICB2YXIgZFAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTsKCiAgICAgIHZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7CgogICAgICB2YXIgZ2V0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHsKICAgICAgICBhbk9iamVjdChPKTsKICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoUHJvcGVydGllcyk7CiAgICAgICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoOwogICAgICAgIHZhciBpID0gMDsKICAgICAgICB2YXIgUDsKCiAgICAgICAgd2hpbGUgKGxlbmd0aCA+IGkpIHsKICAgICAgICAgIGRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gTzsKICAgICAgfTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA4NSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIC8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pCiAgICAgIHZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsKCiAgICAgIHZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpOwoKICAgICAgdmFyIElFX1BST1RPID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMykoJ0lFX1BST1RPJyk7CgogICAgICB2YXIgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHsKICAgICAgICBPID0gdG9PYmplY3QoTyk7CiAgICAgICAgaWYgKGhhcyhPLCBJRV9QUk9UTykpIHJldHVybiBPW0lFX1BST1RPXTsKCiAgICAgICAgaWYgKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3IpIHsKICAgICAgICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA4NiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oODcpOwoKICAgICAgdmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogICAgICB2YXIgaGlkZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7CgogICAgICB2YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7CgogICAgICB2YXIgVE9fU1RSSU5HX1RBRyA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ3RvU3RyaW5nVGFnJyk7CgogICAgICB2YXIgRE9NSXRlcmFibGVzID0gKCdDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LCcgKyAnRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCwnICsgJ01lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsJyArICdTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCwnICsgJ1RleHRUcmFja0xpc3QsVG91Y2hMaXN0Jykuc3BsaXQoJywnKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRE9NSXRlcmFibGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIE5BTUUgPSBET01JdGVyYWJsZXNbaV07CiAgICAgICAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV07CiAgICAgICAgdmFyIHByb3RvID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTsKICAgICAgICBpZiAocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTsKICAgICAgICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7CiAgICAgIH0KICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogODcgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgYWRkVG9VbnNjb3BhYmxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODgpOwoKICAgICAgdmFyIHN0ZXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTsKCiAgICAgIHZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTsKCiAgICAgIHZhciB0b0lPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpOyAvLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpCiAgICAgIC8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpCiAgICAgIC8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKCkKICAgICAgLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpCgoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7CiAgICAgICAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldAoKICAgICAgICB0aGlzLl9pID0gMDsgLy8gbmV4dCBpbmRleAoKICAgICAgICB0aGlzLl9rID0ga2luZDsgLy8ga2luZAogICAgICAgIC8vIDIyLjEuNS4yLjEgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKQogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIE8gPSB0aGlzLl90OwogICAgICAgIHZhciBraW5kID0gdGhpcy5fazsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9pKys7CgogICAgICAgIGlmICghTyB8fCBpbmRleCA+PSBPLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5fdCA9IHVuZGVmaW5lZDsKICAgICAgICAgIHJldHVybiBzdGVwKDEpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGtpbmQgPT0gJ2tleXMnKSByZXR1cm4gc3RlcCgwLCBpbmRleCk7CiAgICAgICAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTsKICAgICAgICByZXR1cm4gc3RlcCgwLCBbaW5kZXgsIE9baW5kZXhdXSk7CiAgICAgIH0sICd2YWx1ZXMnKTsgLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KQoKICAgICAgSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTsKICAgICAgYWRkVG9VbnNjb3BhYmxlcygna2V5cycpOwogICAgICBhZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTsKICAgICAgYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDg4ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLyogZW1wdHkgKi8KICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogODkgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkb25lLCB2YWx1ZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBkb25lOiAhIWRvbmUKICAgICAgICB9OwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA5MCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBMSUJSQVJZID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7CgogICAgICB2YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgICAgIHZhciBjdHggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTsKCiAgICAgIHZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7CgogICAgICB2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CgogICAgICB2YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpOwoKICAgICAgdmFyIGFGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpOwoKICAgICAgdmFyIGFuSW5zdGFuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTsKCiAgICAgIHZhciBmb3JPZiA9IF9fd2VicGFja19yZXF1aXJlX18oOTIpOwoKICAgICAgdmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpOwoKICAgICAgdmFyIHRhc2sgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KS5zZXQ7CgogICAgICB2YXIgbWljcm90YXNrID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NykoKTsKCiAgICAgIHZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpOwoKICAgICAgdmFyIHBlcmZvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTsKCiAgICAgIHZhciB1c2VyQWdlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTsKCiAgICAgIHZhciBwcm9taXNlUmVzb2x2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpOwoKICAgICAgdmFyIFBST01JU0UgPSAnUHJvbWlzZSc7CiAgICAgIHZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yOwogICAgICB2YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzOwogICAgICB2YXIgdmVyc2lvbnMgPSBwcm9jZXNzICYmIHByb2Nlc3MudmVyc2lvbnM7CiAgICAgIHZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4IHx8ICcnOwogICAgICB2YXIgJFByb21pc2UgPSBnbG9iYWxbUFJPTUlTRV07CiAgICAgIHZhciBpc05vZGUgPSBjbGFzc29mKHByb2Nlc3MpID09ICdwcm9jZXNzJzsKCiAgICAgIHZhciBlbXB0eSA9IGZ1bmN0aW9uIGVtcHR5KCkgewogICAgICAgIC8qIGVtcHR5ICovCiAgICAgIH07CgogICAgICB2YXIgSW50ZXJuYWwsIG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgT3duUHJvbWlzZUNhcGFiaWxpdHksIFdyYXBwZXI7CiAgICAgIHZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmY7CiAgICAgIHZhciBVU0VfTkFUSVZFID0gISFmdW5jdGlvbiAoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIC8vIGNvcnJlY3Qgc3ViY2xhc3Npbmcgd2l0aCBAQHNwZWNpZXMgc3VwcG9ydAogICAgICAgICAgdmFyIHByb21pc2UgPSAkUHJvbWlzZS5yZXNvbHZlKDEpOwoKICAgICAgICAgIHZhciBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW19fd2VicGFja19yZXF1aXJlX18oMikoJ3NwZWNpZXMnKV0gPSBmdW5jdGlvbiAoZXhlYykgewogICAgICAgICAgICBleGVjKGVtcHR5LCBlbXB0eSk7CiAgICAgICAgICB9OyAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0CgoKICAgICAgICAgIHJldHVybiAoaXNOb2RlIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJykgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlIC8vIHY4IDYuNiAoTm9kZSAxMCBhbmQgQ2hyb21lIDY2KSBoYXZlIGEgYnVnIHdpdGggcmVzb2x2aW5nIGN1c3RvbSB0aGVuYWJsZXMKICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTgzMDU2NQogICAgICAgICAgLy8gd2UgY2FuJ3QgZGV0ZWN0IGl0IHN5bmNocm9ub3VzbHksIHNvIGp1c3QgY2hlY2sgdmVyc2lvbnMKICAgICAgICAgICYmIHY4LmluZGV4T2YoJzYuNicpICE9PSAwICYmIHVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUvNjYnKSA9PT0gLTE7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgLyogZW1wdHkgKi8KICAgICAgICB9CiAgICAgIH0oKTsgLy8gaGVscGVycwoKICAgICAgdmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbiBpc1RoZW5hYmxlKGl0KSB7CiAgICAgICAgdmFyIHRoZW47CiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiB0eXBlb2YgKHRoZW4gPSBpdC50aGVuKSA9PSAnZnVuY3Rpb24nID8gdGhlbiA6IGZhbHNlOwogICAgICB9OwoKICAgICAgdmFyIG5vdGlmeSA9IGZ1bmN0aW9uIG5vdGlmeShwcm9taXNlLCBpc1JlamVjdCkgewogICAgICAgIGlmIChwcm9taXNlLl9uKSByZXR1cm47CiAgICAgICAgcHJvbWlzZS5fbiA9IHRydWU7CiAgICAgICAgdmFyIGNoYWluID0gcHJvbWlzZS5fYzsKICAgICAgICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdjsKICAgICAgICAgIHZhciBvayA9IHByb21pc2UuX3MgPT0gMTsKICAgICAgICAgIHZhciBpID0gMDsKCiAgICAgICAgICB2YXIgcnVuID0gZnVuY3Rpb24gcnVuKHJlYWN0aW9uKSB7CiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWw7CiAgICAgICAgICAgIHZhciByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZTsKICAgICAgICAgICAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDsKICAgICAgICAgICAgdmFyIGRvbWFpbiA9IHJlYWN0aW9uLmRvbWFpbjsKICAgICAgICAgICAgdmFyIHJlc3VsdCwgdGhlbiwgZXhpdGVkOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBpZiAoaGFuZGxlcikgewogICAgICAgICAgICAgICAgaWYgKCFvaykgewogICAgICAgICAgICAgICAgICBpZiAocHJvbWlzZS5faCA9PSAyKSBvbkhhbmRsZVVuaGFuZGxlZChwcm9taXNlKTsKICAgICAgICAgICAgICAgICAgcHJvbWlzZS5faCA9IDE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIgPT09IHRydWUpIHJlc3VsdCA9IHZhbHVlO2Vsc2UgewogICAgICAgICAgICAgICAgICBpZiAoZG9tYWluKSBkb21haW4uZW50ZXIoKTsKICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7IC8vIG1heSB0aHJvdwoKICAgICAgICAgICAgICAgICAgaWYgKGRvbWFpbikgewogICAgICAgICAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7CiAgICAgICAgICAgICAgICAgICAgZXhpdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2UpIHsKICAgICAgICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSkgewogICAgICAgICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTsKICAgICAgICAgICAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIGlmIChkb21haW4gJiYgIWV4aXRlZCkgZG9tYWluLmV4aXQoKTsKICAgICAgICAgICAgICByZWplY3QoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgd2hpbGUgKGNoYWluLmxlbmd0aCA+IGkpIHsKICAgICAgICAgICAgcnVuKGNoYWluW2krK10pOwogICAgICAgICAgfSAvLyB2YXJpYWJsZSBsZW5ndGggLSBjYW4ndCB1c2UgZm9yRWFjaAoKCiAgICAgICAgICBwcm9taXNlLl9jID0gW107CiAgICAgICAgICBwcm9taXNlLl9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoaXNSZWplY3QgJiYgIXByb21pc2UuX2gpIG9uVW5oYW5kbGVkKHByb21pc2UpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgdmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gb25VbmhhbmRsZWQocHJvbWlzZSkgewogICAgICAgIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3Y7CiAgICAgICAgICB2YXIgdW5oYW5kbGVkID0gaXNVbmhhbmRsZWQocHJvbWlzZSk7CiAgICAgICAgICB2YXIgcmVzdWx0LCBoYW5kbGVyLCBjb25zb2xlOwoKICAgICAgICAgIGlmICh1bmhhbmRsZWQpIHsKICAgICAgICAgICAgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKGlzTm9kZSkgewogICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKSB7CiAgICAgICAgICAgICAgICBoYW5kbGVyKHsKICAgICAgICAgICAgICAgICAgcHJvbWlzZTogcHJvbWlzZSwKICAgICAgICAgICAgICAgICAgcmVhc29uOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGQKCiAgICAgICAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTsKICAgICAgICAgIH0KCiAgICAgICAgICBwcm9taXNlLl9hID0gdW5kZWZpbmVkOwogICAgICAgICAgaWYgKHVuaGFuZGxlZCAmJiByZXN1bHQuZSkgdGhyb3cgcmVzdWx0LnY7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB2YXIgaXNVbmhhbmRsZWQgPSBmdW5jdGlvbiBpc1VuaGFuZGxlZChwcm9taXNlKSB7CiAgICAgICAgcmV0dXJuIHByb21pc2UuX2ggIT09IDEgJiYgKHByb21pc2UuX2EgfHwgcHJvbWlzZS5fYykubGVuZ3RoID09PSAwOwogICAgICB9OwoKICAgICAgdmFyIG9uSGFuZGxlVW5oYW5kbGVkID0gZnVuY3Rpb24gb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSkgewogICAgICAgIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBoYW5kbGVyOwoKICAgICAgICAgIGlmIChpc05vZGUpIHsKICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKSB7CiAgICAgICAgICAgIGhhbmRsZXIoewogICAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsCiAgICAgICAgICAgICAgcmVhc29uOiBwcm9taXNlLl92CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgdmFyICRyZWplY3QgPSBmdW5jdGlvbiAkcmVqZWN0KHZhbHVlKSB7CiAgICAgICAgdmFyIHByb21pc2UgPSB0aGlzOwogICAgICAgIGlmIChwcm9taXNlLl9kKSByZXR1cm47CiAgICAgICAgcHJvbWlzZS5fZCA9IHRydWU7CiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwCgogICAgICAgIHByb21pc2UuX3YgPSB2YWx1ZTsKICAgICAgICBwcm9taXNlLl9zID0gMjsKICAgICAgICBpZiAoIXByb21pc2UuX2EpIHByb21pc2UuX2EgPSBwcm9taXNlLl9jLnNsaWNlKCk7CiAgICAgICAgbm90aWZ5KHByb21pc2UsIHRydWUpOwogICAgICB9OwoKICAgICAgdmFyICRyZXNvbHZlID0gZnVuY3Rpb24gJHJlc29sdmUodmFsdWUpIHsKICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXM7CiAgICAgICAgdmFyIHRoZW47CiAgICAgICAgaWYgKHByb21pc2UuX2QpIHJldHVybjsKICAgICAgICBwcm9taXNlLl9kID0gdHJ1ZTsKICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXAKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkgdGhyb3cgVHlwZUVycm9yKCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOwoKICAgICAgICAgIGlmICh0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpIHsKICAgICAgICAgICAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9IHsKICAgICAgICAgICAgICAgIF93OiBwcm9taXNlLAogICAgICAgICAgICAgICAgX2Q6IGZhbHNlCiAgICAgICAgICAgICAgfTsgLy8gd3JhcAoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlOwogICAgICAgICAgICBwcm9taXNlLl9zID0gMTsKICAgICAgICAgICAgbm90aWZ5KHByb21pc2UsIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAkcmVqZWN0LmNhbGwoewogICAgICAgICAgICBfdzogcHJvbWlzZSwKICAgICAgICAgICAgX2Q6IGZhbHNlCiAgICAgICAgICB9LCBlKTsgLy8gd3JhcAogICAgICAgIH0KICAgICAgfTsgLy8gY29uc3RydWN0b3IgcG9seWZpbGwKCgogICAgICBpZiAoIVVTRV9OQVRJVkUpIHsKICAgICAgICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKQogICAgICAgICRQcm9taXNlID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikgewogICAgICAgICAgYW5JbnN0YW5jZSh0aGlzLCAkUHJvbWlzZSwgUFJPTUlTRSwgJ19oJyk7CiAgICAgICAgICBhRnVuY3Rpb24oZXhlY3V0b3IpOwogICAgICAgICAgSW50ZXJuYWwuY2FsbCh0aGlzKTsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHRoaXMsIDEpLCBjdHgoJHJlamVjdCwgdGhpcywgMSkpOwogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICRyZWplY3QuY2FsbCh0aGlzLCBlcnIpOwogICAgICAgICAgfQogICAgICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwoKCiAgICAgICAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7CiAgICAgICAgICB0aGlzLl9jID0gW107IC8vIDwtIGF3YWl0aW5nIHJlYWN0aW9ucwoKICAgICAgICAgIHRoaXMuX2EgPSB1bmRlZmluZWQ7IC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zCgogICAgICAgICAgdGhpcy5fcyA9IDA7IC8vIDwtIHN0YXRlCgogICAgICAgICAgdGhpcy5fZCA9IGZhbHNlOyAvLyA8LSBkb25lCgogICAgICAgICAgdGhpcy5fdiA9IHVuZGVmaW5lZDsgLy8gPC0gdmFsdWUKCiAgICAgICAgICB0aGlzLl9oID0gMDsgLy8gPC0gcmVqZWN0aW9uIHN0YXRlLCAwIC0gZGVmYXVsdCwgMSAtIGhhbmRsZWQsIDIgLSB1bmhhbmRsZWQKCiAgICAgICAgICB0aGlzLl9uID0gZmFsc2U7IC8vIDwtIG5vdGlmeQogICAgICAgIH07CgogICAgICAgIEludGVybmFsLnByb3RvdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpKCRQcm9taXNlLnByb3RvdHlwZSwgewogICAgICAgICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkKICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHsKICAgICAgICAgICAgdmFyIHJlYWN0aW9uID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsICRQcm9taXNlKSk7CiAgICAgICAgICAgIHJlYWN0aW9uLm9rID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7CiAgICAgICAgICAgIHJlYWN0aW9uLmZhaWwgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7CiAgICAgICAgICAgIHJlYWN0aW9uLmRvbWFpbiA9IGlzTm9kZSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkOwoKICAgICAgICAgICAgdGhpcy5fYy5wdXNoKHJlYWN0aW9uKTsKCiAgICAgICAgICAgIGlmICh0aGlzLl9hKSB0aGlzLl9hLnB1c2gocmVhY3Rpb24pOwogICAgICAgICAgICBpZiAodGhpcy5fcykgbm90aWZ5KHRoaXMsIGZhbHNlKTsKICAgICAgICAgICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7CiAgICAgICAgICB9LAogICAgICAgICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZCkKICAgICAgICAgICdjYXRjaCc6IGZ1bmN0aW9uIF9jYXRjaChvblJlamVjdGVkKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgT3duUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiBPd25Qcm9taXNlQ2FwYWJpbGl0eSgpIHsKICAgICAgICAgIHZhciBwcm9taXNlID0gbmV3IEludGVybmFsKCk7CiAgICAgICAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlOwogICAgICAgICAgdGhpcy5yZXNvbHZlID0gY3R4KCRyZXNvbHZlLCBwcm9taXNlLCAxKTsKICAgICAgICAgIHRoaXMucmVqZWN0ID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpOwogICAgICAgIH07CgogICAgICAgIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpIHsKICAgICAgICAgIHJldHVybiBDID09PSAkUHJvbWlzZSB8fCBDID09PSBXcmFwcGVyID8gbmV3IE93blByb21pc2VDYXBhYmlsaXR5KEMpIDogbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgICRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsKICAgICAgICBQcm9taXNlOiAkUHJvbWlzZQogICAgICB9KTsKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMjYpKCRQcm9taXNlLCBQUk9NSVNFKTsKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMTAwKShQUk9NSVNFKTsKCiAgICAgIFdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApW1BST01JU0VdOyAvLyBzdGF0aWNzCgogICAgICAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCBQUk9NSVNFLCB7CiAgICAgICAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocikKICAgICAgICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7CiAgICAgICAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpOwogICAgICAgICAgdmFyICQkcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7CiAgICAgICAgICAkJHJlamVjdChyKTsKICAgICAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoTElCUkFSWSB8fCAhVVNFX05BVElWRSksIFBST01JU0UsIHsKICAgICAgICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeCkKICAgICAgICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHsKICAgICAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShMSUJSQVJZICYmIHRoaXMgPT09IFdyYXBwZXIgPyAkUHJvbWlzZSA6IHRoaXMsIHgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIShVU0VfTkFUSVZFICYmIF9fd2VicGFja19yZXF1aXJlX18oMTAxKShmdW5jdGlvbiAoaXRlcikgewogICAgICAgICRQcm9taXNlLmFsbChpdGVyKVsnY2F0Y2gnXShlbXB0eSk7CiAgICAgIH0pKSwgUFJPTUlTRSwgewogICAgICAgIC8vIDI1LjQuNC4xIFByb21pc2UuYWxsKGl0ZXJhYmxlKQogICAgICAgIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7CiAgICAgICAgICB2YXIgQyA9IHRoaXM7CiAgICAgICAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpOwogICAgICAgICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7CiAgICAgICAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTsKICAgICAgICAgICAgdmFyIGluZGV4ID0gMDsKICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IDE7CiAgICAgICAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24gKHByb21pc2UpIHsKICAgICAgICAgICAgICB2YXIgJGluZGV4ID0gaW5kZXgrKzsKICAgICAgICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlOwogICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7CiAgICAgICAgICAgICAgcmVtYWluaW5nKys7CiAgICAgICAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuOwogICAgICAgICAgICAgICAgYWxyZWFkeUNhbGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB2YWx1ZXNbJGluZGV4XSA9IHZhbHVlOwogICAgICAgICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpOwogICAgICAgICAgICAgIH0sIHJlamVjdCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTsKICAgICAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7CiAgICAgICAgfSwKICAgICAgICAvLyAyNS40LjQuNCBQcm9taXNlLnJhY2UoaXRlcmFibGUpCiAgICAgICAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSkgewogICAgICAgICAgdmFyIEMgPSB0aGlzOwogICAgICAgICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKTsKICAgICAgICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDsKICAgICAgICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbiAocHJvbWlzZSkgewogICAgICAgICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChyZXN1bHQuZSkgcmVqZWN0KHJlc3VsdC52KTsKICAgICAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA5MSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpIHsKICAgICAgICBpZiAoIShpdCBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSB8fCBmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSB7CiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGl0OwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA5MiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBjdHggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTsKCiAgICAgIHZhciBjYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7CgogICAgICB2YXIgaXNBcnJheUl0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KTsKCiAgICAgIHZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7CgogICAgICB2YXIgdG9MZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTsKCiAgICAgIHZhciBnZXRJdGVyRm4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KTsKCiAgICAgIHZhciBCUkVBSyA9IHt9OwogICAgICB2YXIgUkVUVVJOID0ge307CgogICAgICB2YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCwgSVRFUkFUT1IpIHsKICAgICAgICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gaXRlcmFibGU7CiAgICAgICAgfSA6IGdldEl0ZXJGbihpdGVyYWJsZSk7CiAgICAgICAgdmFyIGYgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSk7CiAgICAgICAgdmFyIGluZGV4ID0gMDsKICAgICAgICB2YXIgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvciwgcmVzdWx0OwogICAgICAgIGlmICh0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpOyAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3IKCiAgICAgICAgaWYgKGlzQXJyYXlJdGVyKGl0ZXJGbikpIGZvciAobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHsKICAgICAgICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTsKICAgICAgICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0OwogICAgICAgIH0gZWxzZSBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7KSB7CiAgICAgICAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTsKICAgICAgICAgIGlmIChyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKSByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGV4cG9ydHMuQlJFQUsgPSBCUkVBSzsKICAgICAgZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogOTMgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yCiAgICAgIHZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7IC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pCiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgdmFyIHJldCA9IGl0ZXJhdG9yWydyZXR1cm4nXTsKICAgICAgICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkgYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTsKICAgICAgICAgIHRocm93IGU7CiAgICAgICAgfQogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA5NCAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIC8vIGNoZWNrIG9uIGRlZmF1bHQgQXJyYXkgaXRlcmF0b3IKICAgICAgdmFyIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpOwoKICAgICAgdmFyIElURVJBVE9SID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgnaXRlcmF0b3InKTsKCiAgICAgIHZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHsKICAgICAgICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SXSA9PT0gaXQpOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA5NSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7CgogICAgICB2YXIgSVRFUkFUT1IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKCdpdGVyYXRvcicpOwoKICAgICAgdmFyIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgaWYgKGl0ICE9IHVuZGVmaW5lZCkgcmV0dXJuIGl0W0lURVJBVE9SXSB8fCBpdFsnQEBpdGVyYXRvciddIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDk2ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHsKICAgICAgLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81CiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCBhcmdzLCB0aGF0KSB7CiAgICAgICAgdmFyIHVuID0gdGhhdCA9PT0gdW5kZWZpbmVkOwoKICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiB1biA/IGZuKCkgOiBmbi5jYWxsKHRoYXQpOwoKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIHVuID8gZm4oYXJnc1swXSkgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSkgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSkgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSkgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3MpOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiA5NyAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpOwoKICAgICAgdmFyIG1hY3JvdGFzayA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpLnNldDsKCiAgICAgIHZhciBPYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyOwogICAgICB2YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzOwogICAgICB2YXIgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlOwogICAgICB2YXIgaXNOb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGhlYWQsIGxhc3QsIG5vdGlmeTsKCiAgICAgICAgdmFyIGZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7CiAgICAgICAgICB2YXIgcGFyZW50LCBmbjsKICAgICAgICAgIGlmIChpc05vZGUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkgcGFyZW50LmV4aXQoKTsKCiAgICAgICAgICB3aGlsZSAoaGVhZCkgewogICAgICAgICAgICBmbiA9IGhlYWQuZm47CiAgICAgICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZuKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICBpZiAoaGVhZCkgbm90aWZ5KCk7ZWxzZSBsYXN0ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIHRocm93IGU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBsYXN0ID0gdW5kZWZpbmVkOwogICAgICAgICAgaWYgKHBhcmVudCkgcGFyZW50LmVudGVyKCk7CiAgICAgICAgfTsgLy8gTm9kZS5qcwoKCiAgICAgICAgaWYgKGlzTm9kZSkgewogICAgICAgICAgbm90aWZ5ID0gZnVuY3Rpb24gbm90aWZ5KCkgewogICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTsKICAgICAgICAgIH07IC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlciwgZXhjZXB0IGlPUyBTYWZhcmkgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzM5CgogICAgICAgIH0gZWxzZSBpZiAoT2JzZXJ2ZXIgJiYgIShnbG9iYWwubmF2aWdhdG9yICYmIGdsb2JhbC5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSkpIHsKICAgICAgICAgIHZhciB0b2dnbGUgPSB0cnVlOwogICAgICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7CiAgICAgICAgICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwgewogICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlCiAgICAgICAgICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKCiAgICAgICAgICBub3RpZnkgPSBmdW5jdGlvbiBub3RpZnkoKSB7CiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7CiAgICAgICAgICB9OyAvLyBlbnZpcm9ubWVudHMgd2l0aCBtYXliZSBub24tY29tcGxldGVseSBjb3JyZWN0LCBidXQgZXhpc3RlbnQgUHJvbWlzZQoKICAgICAgICB9IGVsc2UgaWYgKFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKSB7CiAgICAgICAgICAvLyBQcm9taXNlLnJlc29sdmUgd2l0aG91dCBhbiBhcmd1bWVudCB0aHJvd3MgYW4gZXJyb3IgaW4gTEcgV2ViT1MgMgogICAgICAgICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTsKCiAgICAgICAgICBub3RpZnkgPSBmdW5jdGlvbiBub3RpZnkoKSB7CiAgICAgICAgICAgIHByb21pc2UudGhlbihmbHVzaCk7CiAgICAgICAgICB9OyAvLyBmb3Igb3RoZXIgZW52aXJvbm1lbnRzIC0gbWFjcm90YXNrIGJhc2VkIG9uOgogICAgICAgICAgLy8gLSBzZXRJbW1lZGlhdGUKICAgICAgICAgIC8vIC0gTWVzc2FnZUNoYW5uZWwKICAgICAgICAgIC8vIC0gd2luZG93LnBvc3RNZXNzYWcKICAgICAgICAgIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlCiAgICAgICAgICAvLyAtIHNldFRpbWVvdXQKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5vdGlmeSA9IGZ1bmN0aW9uIG5vdGlmeSgpIHsKICAgICAgICAgICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKQogICAgICAgICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTsKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZuKSB7CiAgICAgICAgICB2YXIgdGFzayA9IHsKICAgICAgICAgICAgZm46IGZuLAogICAgICAgICAgICBuZXh0OiB1bmRlZmluZWQKICAgICAgICAgIH07CiAgICAgICAgICBpZiAobGFzdCkgbGFzdC5uZXh0ID0gdGFzazsKCiAgICAgICAgICBpZiAoIWhlYWQpIHsKICAgICAgICAgICAgaGVhZCA9IHRhc2s7CiAgICAgICAgICAgIG5vdGlmeSgpOwogICAgICAgICAgfQoKICAgICAgICAgIGxhc3QgPSB0YXNrOwogICAgICAgIH07CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDk4ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgdmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CgogICAgICB2YXIgbmF2aWdhdG9yID0gZ2xvYmFsLm5hdmlnYXRvcjsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJzsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiA5OSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBoaWRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTsKCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgc3JjLCBzYWZlKSB7CiAgICAgICAgZm9yICh2YXIga2V5IGluIHNyYykgewogICAgICAgICAgaWYgKHNhZmUgJiYgdGFyZ2V0W2tleV0pIHRhcmdldFtrZXldID0gc3JjW2tleV07ZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGFyZ2V0OwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAxMDAgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgICAgIHZhciBjb3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTsKCiAgICAgIHZhciBkUCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpOwoKICAgICAgdmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTsKCiAgICAgIHZhciBTUEVDSUVTID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKSgnc3BlY2llcycpOwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoS0VZKSB7CiAgICAgICAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTsKICAgICAgICBpZiAoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSkgZFAuZihDLCBTUEVDSUVTLCB7CiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDEwMSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBJVEVSQVRPUiA9IF9fd2VicGFja19yZXF1aXJlX18oMikoJ2l0ZXJhdG9yJyk7CgogICAgICB2YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7CgogICAgICB0cnkgewogICAgICAgIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTsKCiAgICAgICAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgU0FGRV9DTE9TSU5HID0gdHJ1ZTsKICAgICAgICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbAoKCiAgICAgICAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhyb3cgMjsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8qIGVtcHR5ICovCiAgICAgIH0KCiAgICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMsIHNraXBDbG9zaW5nKSB7CiAgICAgICAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7CiAgICAgICAgdmFyIHNhZmUgPSBmYWxzZTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBhcnIgPSBbN107CiAgICAgICAgICB2YXIgaXRlciA9IGFycltJVEVSQVRPUl0oKTsKCiAgICAgICAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgZG9uZTogc2FmZSA9IHRydWUKICAgICAgICAgICAgfTsKICAgICAgICAgIH07CgogICAgICAgICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZXI7CiAgICAgICAgICB9OwoKICAgICAgICAgIGV4ZWMoYXJyKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAvKiBlbXB0eSAqLwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHNhZmU7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDEwMiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS1maW5hbGx5CgogICAgICB2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CgogICAgICB2YXIgY29yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7CgogICAgICB2YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCiAgICAgIHZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTsKCiAgICAgIHZhciBwcm9taXNlUmVzb2x2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpOwoKICAgICAgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LlIsICdQcm9taXNlJywgewogICAgICAgICdmaW5hbGx5JzogZnVuY3Rpb24gX2ZpbmFsbHkob25GaW5hbGx5KSB7CiAgICAgICAgICB2YXIgQyA9IHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCBjb3JlLlByb21pc2UgfHwgZ2xvYmFsLlByb21pc2UpOwogICAgICAgICAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2Ygb25GaW5hbGx5ID09ICdmdW5jdGlvbic7CiAgICAgICAgICByZXR1cm4gdGhpcy50aGVuKGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoeCkgewogICAgICAgICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiB4OwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gOiBvbkZpbmFsbHksIGlzRnVuY3Rpb24gPyBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHRocm93IGU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSA6IG9uRmluYWxseSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAxMDMgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAidXNlIHN0cmljdCI7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtdHJ5CgogICAgICB2YXIgJGV4cG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7CgogICAgICB2YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTsKCiAgICAgIHZhciBwZXJmb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7CgogICAgICAkZXhwb3J0KCRleHBvcnQuUywgJ1Byb21pc2UnLCB7CiAgICAgICAgJ3RyeSc6IGZ1bmN0aW9uIF90cnkoY2FsbGJhY2tmbikgewogICAgICAgICAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZih0aGlzKTsKICAgICAgICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGNhbGxiYWNrZm4pOwogICAgICAgICAgKHJlc3VsdC5lID8gcHJvbWlzZUNhcGFiaWxpdHkucmVqZWN0IDogcHJvbWlzZUNhcGFiaWxpdHkucmVzb2x2ZSkocmVzdWx0LnYpOwogICAgICAgICAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAxMDQgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA1KTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAxMDUgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7CgogICAgICB2YXIgJE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCkuT2JqZWN0OwoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkgewogICAgICAgIHJldHVybiAkT2JqZWN0LmNyZWF0ZShQLCBEKTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogMTA2ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgdmFyICRleHBvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpOyAvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSkKCgogICAgICAkZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHsKICAgICAgICBjcmVhdGU6IF9fd2VicGFja19yZXF1aXJlX18oNDIpCiAgICAgIH0pOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDEwNyAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKICAgICAgLyoqCiAgICAgICAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLgogICAgICAgKgogICAgICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGUKICAgICAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgogICAgICAgKi8KCiAgICAgIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTsKCiAgICAgIGZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fQoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkgewogICAgICAgICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHsKICAgICAgICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICsgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnKTsKICAgICAgICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nOwogICAgICAgICAgdGhyb3cgZXJyOwogICAgICAgIH0KCiAgICAgICAgOwogICAgICAgIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07CgogICAgICAgIGZ1bmN0aW9uIGdldFNoaW0oKSB7CiAgICAgICAgICByZXR1cm4gc2hpbTsKICAgICAgICB9CgogICAgICAgIDsgLy8gSW1wb3J0YW50IQogICAgICAgIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLgoKICAgICAgICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7CiAgICAgICAgICBhcnJheTogc2hpbSwKICAgICAgICAgIGJvb2w6IHNoaW0sCiAgICAgICAgICBmdW5jOiBzaGltLAogICAgICAgICAgbnVtYmVyOiBzaGltLAogICAgICAgICAgb2JqZWN0OiBzaGltLAogICAgICAgICAgc3RyaW5nOiBzaGltLAogICAgICAgICAgc3ltYm9sOiBzaGltLAogICAgICAgICAgYW55OiBzaGltLAogICAgICAgICAgYXJyYXlPZjogZ2V0U2hpbSwKICAgICAgICAgIGVsZW1lbnQ6IHNoaW0sCiAgICAgICAgICBpbnN0YW5jZU9mOiBnZXRTaGltLAogICAgICAgICAgbm9kZTogc2hpbSwKICAgICAgICAgIG9iamVjdE9mOiBnZXRTaGltLAogICAgICAgICAgb25lT2Y6IGdldFNoaW0sCiAgICAgICAgICBvbmVPZlR5cGU6IGdldFNoaW0sCiAgICAgICAgICBzaGFwZTogZ2V0U2hpbSwKICAgICAgICAgIGV4YWN0OiBnZXRTaGltCiAgICAgICAgfTsKICAgICAgICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247CiAgICAgICAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7CiAgICAgICAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzOwogICAgICB9OwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAxMDggKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAidXNlIHN0cmljdCI7CiAgICAgIC8qKgogICAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4KICAgICAgICoKICAgICAgICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiAgICAgICAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4KICAgICAgICovCgogICAgICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnOwogICAgICBtb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0OwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDEwOSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXzsKICAgICAgLyohCiAgICAgIENvcHlyaWdodCAoYykgMjAxNyBKZWQgV2F0c29uLgogICAgICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZQogICAgICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzCiAgICAgICovCgogICAgICAvKiBnbG9iYWwgZGVmaW5lICovCgoKICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAndXNlIHN0cmljdCc7CgogICAgICAgIHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTsKCiAgICAgICAgZnVuY3Rpb24gY2xhc3NOYW1lcygpIHsKICAgICAgICAgIHZhciBjbGFzc2VzID0gW107CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50c1tpXTsKICAgICAgICAgICAgaWYgKCFhcmcpIGNvbnRpbnVlOwogICAgICAgICAgICB2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7CgogICAgICAgICAgICBpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHsKICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goYXJnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykgJiYgYXJnLmxlbmd0aCkgewogICAgICAgICAgICAgIHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTsKCiAgICAgICAgICAgICAgaWYgKGlubmVyKSB7CiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goaW5uZXIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmcpIHsKICAgICAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHsKICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGNsYXNzZXMuam9pbignICcpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRydWUgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICAgIGNsYXNzTmFtZXNbImRlZmF1bHQiXSA9IGNsYXNzTmFtZXM7CiAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7CiAgICAgICAgfSBlbHNlIGlmICh0cnVlKSB7CiAgICAgICAgICAvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lCiAgICAgICAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBjbGFzc05hbWVzOwogICAgICAgICAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpOwogICAgICAgIH0gZWxzZSB7fQogICAgICB9KSgpOwogICAgICAvKioqLwoKICAgIH0sCiAgICAvKiAxMTAgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICAvKioKICAgICAgICAjIG9taXQKICAgICAgCiAgICAgICAgUmVtb3ZlIHZhbHVlcyBmcm9tIGFuIG9iamVjdCAob3IgYW4gYXJyYXkgb2Ygb2JqZWN0cykgYmFzZWQgb24ga2V5LCB2YWx1ZSBvcgogICAgICAgIGFuIGV2YWx1YXRvciBmdW5jdGlvbi4KICAgICAgCiAgICAgICAgIyMgRXhhbXBsZSBVc2FnZQogICAgICAKICAgICAgICA8PDwgZXhhbXBsZXMvb2JqZWN0LmpzCiAgICAgIAogICAgICAqKi8KICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocnVsZSkgewogICAgICAgIGZ1bmN0aW9uIG9taXQodGFyZ2V0KSB7CiAgICAgICAgICB2YXIgYWNjZXB0VmFsOwogICAgICAgICAgdmFyIGNvcHkgPSB7fTsKICAgICAgICAgIHZhciBrZXk7CiAgICAgICAgICB2YXIgdmFsOyAvLyBpbiB0aGUgY2FzZSB0aGF0IHdlIGhhdmUgYmVlbiBwYXNzZWQgYSBmYWxzZXkgdmFsdWUsIGp1c3QgcmV0dXJuIHRoYXQKCiAgICAgICAgICBpZiAoIXRhcmdldCkgewogICAgICAgICAgICByZXR1cm4gdGFyZ2V0OwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHsKICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5tYXAob21pdCk7CiAgICAgICAgICB9CgogICAgICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkgewogICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGEgdmFsaWQgcnVsZSwganVzdCBhY2NlcHQgdGhlIHZhbHVlCiAgICAgICAgICAgICAgYWNjZXB0VmFsID0gdHlwZW9mIHJ1bGUgIT0gJ2Z1bmN0aW9uJzsgLy8gaWYgd2Ugb25seSBoYXZlIGEga2V5IGNoZWNrLCB0aGVuIGRvIGEgdmVyeSBzaW1wbGUgdGVzdAoKICAgICAgICAgICAgICBpZiAocnVsZS5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgIGFjY2VwdFZhbCA9ICFydWxlKGtleSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhbCA9IHRhcmdldFtrZXldOwogICAgICAgICAgICAgICAgYWNjZXB0VmFsID0gIXJ1bGUoa2V5LCB2YWwgPSB0YXJnZXRba2V5XSwgdGFyZ2V0KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChhY2NlcHRWYWwpIHsKICAgICAgICAgICAgICAgIGNvcHlba2V5XSA9IHZhbCB8fCB0YXJnZXRba2V5XTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gY29weTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG9taXRXaGVuRXF1YWwodmFsdWUpIHsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIHJldHVybiBrZXkgPT09IHZhbHVlOwogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG9taXRXaGVuSW4odGFyZ2V0KSB7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICByZXR1cm4gdGFyZ2V0LmluZGV4T2Yoa2V5KSA+PSAwOwogICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlb2YgcnVsZSA9PSAnc3RyaW5nJyB8fCBydWxlIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgICAgICBydWxlID0gb21pdFdoZW5FcXVhbChydWxlKTsKICAgICAgICB9CgogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJ1bGUpKSB7CiAgICAgICAgICBydWxlID0gb21pdFdoZW5JbihydWxlKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IG9taXQoYXJndW1lbnRzWzFdKSA6IG9taXQ7CiAgICAgIH07CiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDExMSAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKICAgICAgLyoqCiAgICAgICAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLgogICAgICAgKgogICAgICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGUKICAgICAgICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLgogICAgICAgKi8KCiAgICAgIC8qKgogICAgICAgKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuCiAgICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWwKICAgICAgICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGUKICAgICAgICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuCiAgICAgICAqLwoKICAgICAgdmFyIF9fREVWX18gPSAicHJvZHVjdGlvbiIgIT09ICdwcm9kdWN0aW9uJzsKCiAgICAgIHZhciB3YXJuaW5nID0gZnVuY3Rpb24gd2FybmluZygpIHt9OwoKICAgICAgaWYgKF9fREVWX18pIHsKICAgICAgICB2YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGZvcm1hdCwgYXJncykgewogICAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7CiAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7CgogICAgICAgICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykgewogICAgICAgICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGFyZ0luZGV4ID0gMDsKICAgICAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0cnkgewogICAgICAgICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tCiAgICAgICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFjawogICAgICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS4KICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpOwogICAgICAgICAgfSBjYXRjaCAoeCkge30KICAgICAgICB9OwoKICAgICAgICB3YXJuaW5nID0gZnVuY3Rpb24gd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgYXJncykgewogICAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7CiAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7CgogICAgICAgICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykgewogICAgICAgICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFjb25kaXRpb24pIHsKICAgICAgICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KG51bGwsIFtmb3JtYXRdLmNvbmNhdChhcmdzKSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgbW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nOwogICAgICAvKioqLwogICAgfSwKICAgIC8qIDExMiAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpOwoKICAgICAgdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpOwoKICAgICAgZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTsKICAgICAgZXhwb3J0c1siZGVmYXVsdCJdID0gdm9pZCAwOwoKICAgICAgdmFyIF9pbmhlcml0c0xvb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygyOCkpOwoKICAgICAgdmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9fd2VicGFja19yZXF1aXJlX18oMjkpKTsKICAgICAgLyoqCiAgICAgICAqIOiZmuaLn+e7hOS7tu+8jOeUqOS6juaUtumbhuWIl+a4suafk+inhOWImQogICAgICAgKi8KCgogICAgICB2YXIgQ29sdW1uID0KICAgICAgLyojX19QVVJFX18qLwogICAgICBmdW5jdGlvbiAoX0NvbXBvbmVudCkgewogICAgICAgICgwLCBfaW5oZXJpdHNMb29zZTJbImRlZmF1bHQiXSkoQ29sdW1uLCBfQ29tcG9uZW50KTsKCiAgICAgICAgZnVuY3Rpb24gQ29sdW1uKCkgewogICAgICAgICAgcmV0dXJuIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwogICAgICAgIH0KCiAgICAgICAgdmFyIF9wcm90byA9IENvbHVtbi5wcm90b3R5cGU7CgogICAgICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gQ29sdW1uOwogICAgICB9KF9yZWFjdC5Db21wb25lbnQpOwoKICAgICAgZXhwb3J0c1siZGVmYXVsdCJdID0gQ29sdW1uOwogICAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbImRlZmF1bHQiXTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAxMTMgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTsKCiAgICAgIHZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTsKCiAgICAgIGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7CiAgICAgIGV4cG9ydHNbImRlZmF1bHQiXSA9IFNlYXJjaEZvcm1EZWNvcmF0b3I7CgogICAgICB2YXIgX2luaGVyaXRzTG9vc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSk7CgogICAgICB2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX193ZWJwYWNrX3JlcXVpcmVfXygyOSkpOwoKICAgICAgdmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNDkpKTsKCiAgICAgIHZhciBfYW50ZCA9IF9fd2VicGFja19yZXF1aXJlX18oNTApOwogICAgICAvKioKICAgICAgICog6Jma5ouf57uE5Lu277yM55So5LqO5pS26ZuG5YiX5riy5p+T6KeE5YiZCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIFNlYXJjaEZvcm1EZWNvcmF0b3IoRm9ybUNvbnRlbnQpIHsKICAgICAgICB2YXIgU2VhcmNoRm9ybSA9CiAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgIGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7CiAgICAgICAgICAoMCwgX2luaGVyaXRzTG9vc2UyWyJkZWZhdWx0Il0pKFNlYXJjaEZvcm0sIF9Db21wb25lbnQpOwoKICAgICAgICAgIGZ1bmN0aW9uIFNlYXJjaEZvcm0oKSB7CiAgICAgICAgICAgIHZhciBfdGhpczsKCiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzID0gX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7CgogICAgICAgICAgICBfdGhpcy5kb1NlYXJjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcywKICAgICAgICAgICAgICAgICAgZG9TZWFyY2ggPSBfdGhpcyRwcm9wcy5kb1NlYXJjaCwKICAgICAgICAgICAgICAgICAgZm9ybSA9IF90aGlzJHByb3BzLmZvcm07CiAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGZvcm0uZ2V0RmllbGRzVmFsdWUoKTsgLy8g5p+l6K+i5pWw5o2u6L2s5o2iCgogICAgICAgICAgICAgIHZhbHVlcyA9IF90aGlzLmZvcm0gJiYgX3RoaXMuZm9ybS5ub3JtYWxpemUgPyBfdGhpcy5mb3JtLm5vcm1hbGl6ZSh2YWx1ZXMpIDogdmFsdWVzOwogICAgICAgICAgICAgIGRvU2VhcmNoICYmIGRvU2VhcmNoKHZhbHVlcyk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBfdGhpcy5kb1Jlc2V0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcywKICAgICAgICAgICAgICAgICAgZG9TZWFyY2ggPSBfdGhpcyRwcm9wczIuZG9TZWFyY2gsCiAgICAgICAgICAgICAgICAgIGZvcm0gPSBfdGhpcyRwcm9wczIuZm9ybTsKICAgICAgICAgICAgICBmb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgICAgZG9TZWFyY2ggJiYgZG9TZWFyY2goKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiBfdGhpczsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgX3Byb3RvID0gU2VhcmNoRm9ybS5wcm90b3R5cGU7CgogICAgICAgICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgICAgICB2YXIgZm9ybSA9IHRoaXMucHJvcHMuZm9ybTsKICAgICAgICAgICAgcmV0dXJuIF9yZWFjdFsiZGVmYXVsdCJdLmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgICAgICBjbGFzc05hbWU6ICJzZWFyY2hhYmxlLXRhYmxlLWZvcm0tY29udGVudCIKICAgICAgICAgICAgfSwgX3JlYWN0WyJkZWZhdWx0Il0uY3JlYXRlRWxlbWVudChGb3JtQ29udGVudCwgewogICAgICAgICAgICAgIGZvcm06IGZvcm0sCiAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoYykgewogICAgICAgICAgICAgICAgaWYgKGMpIF90aGlzMi5mb3JtID0gYzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLCBfcmVhY3RbImRlZmF1bHQiXS5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAic2VhcmNoYWJsZS10YWJsZS1mb3JtLWJ0bnMiCiAgICAgICAgICAgIH0sIF9yZWFjdFsiZGVmYXVsdCJdLmNyZWF0ZUVsZW1lbnQoX2FudGQuQnV0dG9uLCB7CiAgICAgICAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgICAgICAgIGNsYXNzTmFtZTogInNlYXJjaC1idG4iLAogICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuZG9TZWFyY2gKICAgICAgICAgICAgfSwgIlx1NjQxQ1x1N0QyMiIpLCBfcmVhY3RbImRlZmF1bHQiXS5jcmVhdGVFbGVtZW50KF9hbnRkLkJ1dHRvbiwgewogICAgICAgICAgICAgIHR5cGU6ICJkZWZhdWx0IiwKICAgICAgICAgICAgICBjbGFzc05hbWU6ICJyZXNldC1idG4iLAogICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuZG9SZXNldAogICAgICAgICAgICB9LCAiXHU5MUNEXHU3RjZFIikpKTsKICAgICAgICAgIH07CgogICAgICAgICAgcmV0dXJuIFNlYXJjaEZvcm07CiAgICAgICAgfShfcmVhY3QuQ29tcG9uZW50KTsKCiAgICAgICAgU2VhcmNoRm9ybS5wcm9wVHlwZXMgPSB7CiAgICAgICAgICBkb1NlYXJjaDogX3Byb3BUeXBlc1siZGVmYXVsdCJdLmZ1bmMuaXNSZXF1aXJlZAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIF9hbnRkLkZvcm0uY3JlYXRlKCkoU2VhcmNoRm9ybSk7CiAgICAgIH0KCiAgICAgIDsKICAgICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWyJkZWZhdWx0Il07CiAgICAgIC8qKiovCiAgICB9LAogICAgLyogMTE0ICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luCiAgICAgIG1vZHVsZS5leHBvcnRzID0gewogICAgICAgICJzZWFyY2hhYmxlLXRhYmxlLWNvbnRhaW5lciI6ICJzZWFyY2hhYmxlLXRhYmxlLWNvbnRhaW5lciIsCiAgICAgICAgInNlYXJjaGFibGVUYWJsZUNvbnRhaW5lciI6ICJzZWFyY2hhYmxlLXRhYmxlLWNvbnRhaW5lciIsCiAgICAgICAgInNlYXJjaGFibGUtdGFibGUtc3BpbiI6ICJzZWFyY2hhYmxlLXRhYmxlLXNwaW4iLAogICAgICAgICJzZWFyY2hhYmxlVGFibGVTcGluIjogInNlYXJjaGFibGUtdGFibGUtc3BpbiIsCiAgICAgICAgInNlYXJjaGFibGUtdGFibGUtZm9ybSI6ICJzZWFyY2hhYmxlLXRhYmxlLWZvcm0iLAogICAgICAgICJzZWFyY2hhYmxlVGFibGVGb3JtIjogInNlYXJjaGFibGUtdGFibGUtZm9ybSIsCiAgICAgICAgInNlYXJjaGFibGUtdGFibGUtZm9ybS1jb250ZW50IjogInNlYXJjaGFibGUtdGFibGUtZm9ybS1jb250ZW50IiwKICAgICAgICAic2VhcmNoYWJsZVRhYmxlRm9ybUNvbnRlbnQiOiAic2VhcmNoYWJsZS10YWJsZS1mb3JtLWNvbnRlbnQiLAogICAgICAgICJzZWFyY2hhYmxlLXRhYmxlLWZvcm0tYnRucyI6ICJzZWFyY2hhYmxlLXRhYmxlLWZvcm0tYnRucyIsCiAgICAgICAgInNlYXJjaGFibGVUYWJsZUZvcm1CdG5zIjogInNlYXJjaGFibGUtdGFibGUtZm9ybS1idG5zIiwKICAgICAgICAic2VhcmNoLWJ0biI6ICJzZWFyY2gtYnRuIiwKICAgICAgICAic2VhcmNoQnRuIjogInNlYXJjaC1idG4iCiAgICAgIH07CiAgICAgIC8qKiovCiAgICB9XSkKICApOwp9KTs="},{"version":3,"sources":["/Users/alfred/Desktop/dvp/antdx/dist/antdx.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__29__","__WEBPACK_EXTERNAL_MODULE__50__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","core","version","__e","global","Math","self","Function","__g","store","uid","USE_SYMBOL","$exports","ctx","hide","has","PROTOTYPE","$export","type","source","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","target","own","out","undefined","C","a","b","arguments","length","apply","virtual","R","U","isObject","it","TypeError","dP","createDesc","f","_interopRequireDefault","obj","IObject","defined","anObject","IE8_DOM_DEFINE","toPrimitive","O","Attributes","e","toString","slice","exec","aFunction","fn","that","_Object$getOwnPropertyDescriptor","_Object$defineProperty","_interopRequireWildcard","newObj","desc","set","bitmap","configurable","writable","document","is","createElement","$keys","enumBugKeys","keys","ceil","floor","isNaN","shared","def","TAG","tag","stat","PromiseCapability","resolve","reject","promise","$$resolve","$$reject","_Object$create","_inheritsLoose","subClass","superClass","constructor","__proto__","cof","propertyIsEnumerable","split","val","valueOf","fails","KEY","exp","toInteger","min","SHARED","push","copyright","id","px","random","concat","LIBRARY","redefine","Iterators","$iterCreate","setToStringTag","getPrototypeOf","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","getMethod","kind","proto","values","entries","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","methods","IteratorPrototype","dPs","IE_PROTO","Empty","createDict","iframe","lt","gt","iframeDocument","style","display","appendChild","src","contentWindow","open","write","close","Properties","result","documentElement","ARG","tryGet","T","callee","SPECIES","D","invoke","html","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","listener","event","data","args","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","clear","v","newPromiseCapability","x","promiseCapability","throwOnDirectAccess","isValidElement","REACT_ELEMENT_TYPE","_SearchableTable","_default","SearchableTable","_Table","_Column","_Form","Column","SearchForm","_extends2","_objectWithoutPropertiesLoose2","_assign","_regenerator","_asyncToGenerator2","_keys","_inheritsLoose2","_react","_propTypes","_antd","_classnames3","_omit","_warning","paginationTypes","shape","current","number","isRequired","pageSize","total","defaultPagination","_Component","getDerivedStateFromProps","props","state","_state$pagination","pagination","paginationState","searchInfo","dataSource","newState","_this","reload","_this$state","_this$state$paginatio","fetch","_ref2","mark","_callee","_ref","paginationParam","res","wrap","_callee$","_context","prev","abrupt","setState","loading","sent","stop","_x","doSearch","_this$state$paginatio2","params","onTableChange","filters","sorter","_pagination","prop","_dataSource","defaultDataSource","_searchInfo","defaultSearchInfo","_proto","componentDidMount","renderForm","form","className","renderTable","_classnames","_this$state2","_this$props","tableClassName","tableStyle","paginationProp","columnsProp","columns","children","rest","tableClassNames","tableProps","Children","map","child","_child$props","cell","dataIndex","render","Table","onChange","_classnames2","_this$props2","classNames","Spin","spinning","Component","propTypes","oneOfType","bool","array","func","string","$Object","getOwnPropertyDescriptor","toIObject","$getOwnPropertyDescriptor","pIE","gOPD","_Object$assign","_extends","assign","getKeys","gOPS","toObject","$assign","A","K","forEach","k","join","aLen","index","getSymbols","isEnum","j","arrayIndexOf","names","toLength","toAbsoluteIndex","IS_INCLUDES","$this","el","fromIndex","max","getOwnPropertySymbols","_Object$keys","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","g","hadRuntime","regeneratorRuntime","getOwnPropertyNames","oldRuntime","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","inModule","runtime","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","arg","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","method","isGeneratorFunction","genFun","ctor","setPrototypeOf","awrap","__await","AsyncIterator","record","Promise","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","done","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","reverse","pop","iterable","iteratorMethod","skipTempReset","charAt","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","_Promise","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","$at","String","iterated","_t","_i","point","TO_STRING","pos","charCodeAt","descriptor","defineProperties","ObjectProto","TO_STRING_TAG","DOMIterables","Collection","Array","addToUnscopables","step","_k","Arguments","classof","anInstance","forOf","speciesConstructor","task","microtask","newPromiseCapabilityModule","perform","userAgent","promiseResolve","PROMISE","versions","v8","$Promise","isNode","empty","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","notify","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","domain","exited","_h","onHandleUnhandled","enter","exit","onUnhandled","unhandled","isUnhandled","console","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","onFulfilled","onRejected","capability","all","remaining","$index","alreadyCalled","race","forbiddenField","isArrayIter","getIterFn","BREAK","RETURN","iterFn","ret","ArrayProto","getIteratorMethod","un","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","parent","navigator","standalone","toggle","node","createTextNode","observe","characterData","safe","DESCRIPTORS","SAFE_CLOSING","riter","from","skipClosing","arr","onFinally","isFunction","callbackfn","ReactPropTypesSecret","emptyFunction","shim","propName","componentName","location","propFullName","secret","getShim","ReactPropTypes","symbol","any","arrayOf","element","instanceOf","objectOf","oneOf","exact","checkPropTypes","PropTypes","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classes","argType","isArray","inner","rule","omit","acceptVal","copy","omitWhenEqual","omitWhenIn","__DEV__","warning","printWarning","format","len","argIndex","message","replace","condition","SearchFormDecorator","FormContent","_len","_key","getFieldsValue","normalize","doReset","resetFields","_this2","ref","Button","onClick","Form"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"antd\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"antd\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"antdx\"] = factory(require(\"React\"), require(\"antd\"));\n\telse\n\t\troot[\"antdx\"] = factory(root[\"React\"], root[\"antd\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__29__, __WEBPACK_EXTERNAL_MODULE__50__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 51);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nvar core = module.exports = { version: '2.6.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar store = __webpack_require__(37)('wks');\nvar uid = __webpack_require__(38);\nvar Symbol = __webpack_require__(1).Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(1);\nvar core = __webpack_require__(0);\nvar ctx = __webpack_require__(15);\nvar hide = __webpack_require__(6);\nvar has = __webpack_require__(10);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(14)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(9);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP = __webpack_require__(11);\nvar createDesc = __webpack_require__(19);\nmodule.exports = __webpack_require__(4) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(30);\nvar defined = __webpack_require__(18);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(5);\nvar IE8_DOM_DEFINE = __webpack_require__(33);\nvar toPrimitive = __webpack_require__(32);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(4) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = {};\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// optional / simple context binding\nvar aFunction = __webpack_require__(16);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(54);\n\nvar _Object$defineProperty = __webpack_require__(58);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = _Object$defineProperty && _Object$getOwnPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            _Object$defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nmodule.exports = _interopRequireWildcard;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(9);\nvar document = __webpack_require__(1).document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(65);\nvar enumBugKeys = __webpack_require__(39);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar shared = __webpack_require__(37)('keys');\nvar uid = __webpack_require__(38);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\nmodule.exports = true;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(18);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar def = __webpack_require__(11).f;\nvar has = __webpack_require__(10);\nvar TAG = __webpack_require__(2)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = __webpack_require__(16);\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _Object$create = __webpack_require__(104);\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = _Object$create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__29__;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(13);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nexports.f = {}.propertyIsEnumerable;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(9);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = !__webpack_require__(4) && !__webpack_require__(14)(function () {\n  return Object.defineProperty(__webpack_require__(20)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(3);\nvar core = __webpack_require__(0);\nvar fails = __webpack_require__(14);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(62);\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.1.15 ToLength\nvar toInteger = __webpack_require__(22);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(0);\nvar global = __webpack_require__(1);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: __webpack_require__(24) ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports) {\n\nvar id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\n// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(70);\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar LIBRARY = __webpack_require__(24);\nvar $export = __webpack_require__(3);\nvar redefine = __webpack_require__(82);\nvar hide = __webpack_require__(6);\nvar Iterators = __webpack_require__(12);\nvar $iterCreate = __webpack_require__(83);\nvar setToStringTag = __webpack_require__(26);\nvar getPrototypeOf = __webpack_require__(85);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(5);\nvar dPs = __webpack_require__(84);\nvar enumBugKeys = __webpack_require__(39);\nvar IE_PROTO = __webpack_require__(23)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(20)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(43).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar document = __webpack_require__(1).document;\nmodule.exports = document && document.documentElement;\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(13);\nvar TAG = __webpack_require__(2)('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(5);\nvar aFunction = __webpack_require__(16);\nvar SPECIES = __webpack_require__(2)('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ctx = __webpack_require__(15);\nvar invoke = __webpack_require__(96);\nvar html = __webpack_require__(43);\nvar cel = __webpack_require__(20);\nvar global = __webpack_require__(1);\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (__webpack_require__(13)(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(5);\nvar isObject = __webpack_require__(9);\nvar newPromiseCapability = __webpack_require__(27);\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) { var throwOnDirectAccess, isValidElement, REACT_ELEMENT_TYPE; } else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(107)();\n}\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__50__;\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(7);\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _SearchableTable = _interopRequireDefault(__webpack_require__(52));\n\nvar _default = {\n  SearchableTable: _SearchableTable.default\n};\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(7);\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _Table = _interopRequireDefault(__webpack_require__(53));\n\nvar _Column = _interopRequireDefault(__webpack_require__(112));\n\nvar _Form = _interopRequireDefault(__webpack_require__(113));\n\n__webpack_require__(114);\n\n_Table.default.Column = _Column.default;\n_Table.default.SearchForm = _Form.default;\nvar _default = _Table.default;\nexports.default = _default;\nmodule.exports = exports.default;\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireWildcard = __webpack_require__(17);\n\nvar _interopRequireDefault = __webpack_require__(7);\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(__webpack_require__(61));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(__webpack_require__(69));\n\nvar _assign = _interopRequireDefault(__webpack_require__(35));\n\nvar _regenerator = _interopRequireDefault(__webpack_require__(72));\n\n__webpack_require__(75);\n\nvar _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(76));\n\nvar _keys = _interopRequireDefault(__webpack_require__(40));\n\nvar _inheritsLoose2 = _interopRequireDefault(__webpack_require__(28));\n\nvar _react = _interopRequireWildcard(__webpack_require__(29));\n\nvar _propTypes = _interopRequireDefault(__webpack_require__(49));\n\nvar _antd = __webpack_require__(50);\n\nvar _classnames3 = _interopRequireDefault(__webpack_require__(109));\n\nvar _omit = _interopRequireDefault(__webpack_require__(110));\n\nvar _warning = _interopRequireDefault(__webpack_require__(111));\n\nvar paginationTypes = _propTypes.default.shape({\n  current: _propTypes.default.number.isRequired,\n  pageSize: _propTypes.default.number.isRequired,\n  total: _propTypes.default.number.isRequired\n});\n\nvar defaultPagination = {\n  current: 1,\n  pageSize: 10,\n  total: 0\n};\n/**\n * 带搜索表单的表格\n */\n\nvar SearchableTable =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(SearchableTable, _Component);\n\n  SearchableTable.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    var _state$pagination = state.pagination,\n        paginationState = _state$pagination === void 0 ? {} : _state$pagination;\n    var pagination = props.pagination,\n        searchInfo = props.searchInfo,\n        dataSource = props.dataSource;\n    var newState = {};\n\n    if ('pagination' in props && typeof pagination === 'object' && pagination) {\n      if (pagination.current === paginationState.current && pagination.pageSize === paginationState.pageSize && pagination.total === paginationState.total) return;\n      newState.pagination = {\n        current: pagination.current,\n        pageSize: pagination.pageSize,\n        total: pagination.total\n      };\n    }\n\n    ;\n\n    if ('searchInfo' in props && searchInfo !== state.searchInfo) {\n      newState.searchInfo = searchInfo;\n    }\n\n    ;\n\n    if ('dataSource' in props && dataSource !== state.dataSource) {\n      newState.dataSource = dataSource;\n    }\n\n    ;\n    if ((0, _keys.default)(newState).length) return newState;\n    return null;\n  };\n\n  function SearchableTable(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.reload = function () {\n      var _this$state = _this.state,\n          searchInfo = _this$state.searchInfo,\n          _this$state$paginatio = _this$state.pagination,\n          current = _this$state$paginatio.current,\n          pageSize = _this$state$paginatio.pageSize;\n\n      _this.fetch({\n        searchInfo: searchInfo,\n        pagination: {\n          current: current,\n          pageSize: pageSize\n        }\n      });\n    };\n\n    _this.fetch =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(_ref) {\n        var paginationParam, searchInfo, fetch, res, dataSource, pagination;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                paginationParam = _ref.pagination, searchInfo = _ref.searchInfo;\n                fetch = _this.props.fetch;\n\n                if (fetch) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 4:\n                _this.setState({\n                  loading: true\n                });\n\n                _context.next = 7;\n                return fetch({\n                  pagination: paginationParam,\n                  searchInfo: searchInfo\n                });\n\n              case 7:\n                res = _context.sent;\n\n                if (res) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _this.setState({\n                  loading: false\n                });\n\n                return _context.abrupt(\"return\");\n\n              case 11:\n                ;\n                (0, _warning.default)(res.dataSource || res.pagination, 'Return of fetch prop must contain attributes with dataSource and pagination!');\n                dataSource = res.dataSource, pagination = res.pagination;\n\n                _this.setState({\n                  dataSource: dataSource,\n                  pagination: pagination || defaultPagination,\n                  searchInfo: searchInfo,\n                  loading: false\n                });\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.doSearch = function (searchInfo) {\n      if (searchInfo === void 0) {\n        searchInfo = {};\n      }\n\n      var _this$state$paginatio2 = _this.state.pagination,\n          current = _this$state$paginatio2.current,\n          pageSize = _this$state$paginatio2.pageSize;\n      var params = {\n        searchInfo: searchInfo,\n        pagination: {\n          current: current,\n          pageSize: pageSize\n        }\n      };\n\n      _this.fetch(params);\n    };\n\n    _this.onTableChange = function (pagination, filters, sorter) {\n      var current = pagination.current,\n          pageSize = pagination.pageSize;\n      var searchInfo = _this.state.searchInfo;\n      var params = {\n        searchInfo: searchInfo,\n        pagination: {\n          current: current,\n          pageSize: pageSize\n        }\n      };\n\n      _this.fetch(params);\n    };\n\n    var state = {};\n\n    var _pagination;\n\n    if ('pagination' in props && typeof props.pagination === 'object' && _pagination) {\n      _pagination = {\n        current: prop.pagination.current,\n        pageSize: prop.pagination.pageSize,\n        total: prop.pagination.total\n      };\n      state.pagination = _pagination;\n    } else if ('defaultPagination' in props) {\n      _pagination = props.defaultPagination;\n      state.pagination = _pagination;\n    } else {\n      state.pagination = defaultPagination;\n    }\n\n    ;\n\n    var _dataSource;\n\n    if ('dataSource' in props) {\n      _dataSource = props.dataSource;\n      state.dataSource = _dataSource;\n    } else if ('defaultDataSource' in props) {\n      _dataSource = props.defaultDataSource;\n      state.dataSource = _dataSource;\n    }\n\n    ;\n\n    var _searchInfo;\n\n    if ('searchInfo' in props) {\n      _searchInfo = props.searchInfo;\n      state.searchInfo = _searchInfo;\n    } else if ('defaultSearchInfo' in props) {\n      _searchInfo = props.defaultSearchInfo;\n      state.searchInfo = _searchInfo;\n    }\n\n    ;\n    _this.state = (0, _assign.default)({}, state, {\n      loading: false\n    });\n    return _this;\n  }\n\n  var _proto = SearchableTable.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.reload();\n  }\n  /**\n   * 根据 state 状态加载远程数据\n   */\n  ;\n\n  /**\n   * 渲染搜索表单。拆分，便于继承\n   */\n  _proto.renderForm = function renderForm() {\n    var form = this.props.form;\n    return form ? _react.default.createElement(\"div\", {\n      className: \"searchable-table-form\"\n    }, form(this.doSearch)) : '';\n  }\n  /**\n   * 渲染表格。拆分，便于继承\n   */\n  ;\n\n  _proto.renderTable = function renderTable() {\n    var _classnames;\n\n    var _this$state2 = this.state,\n        paginationState = _this$state2.pagination,\n        dataSource = _this$state2.dataSource;\n    var _this$props = this.props,\n        tableClassName = _this$props.tableClassName,\n        tableStyle = _this$props.tableStyle,\n        paginationProp = _this$props.pagination,\n        columnsProp = _this$props.columns,\n        children = _this$props.children,\n        rest = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"tableClassName\", \"tableStyle\", \"pagination\", \"columns\", \"children\"]);\n    var tableClassNames = (0, _classnames3.default)((_classnames = {\n      'searchable-table': true\n    }, _classnames[tableClassName] = !!tableClassName, _classnames));\n    var tableProps = (0, _omit.default)(['className', 'style', 'defaultPagination', 'defaultSearchInfo', 'searchInfo', 'defaultDataSource', 'dataSource', 'fetch', 'form'])(rest);\n    var pagination = typeof paginationProp === 'boolean' ? paginationProp : (0, _assign.default)({}, paginationProp, paginationState);\n    var columns = children ? _react.Children.map(children, function (child) {\n      var _child$props = child.props,\n          cell = _child$props.cell,\n          rest = (0, _objectWithoutPropertiesLoose2.default)(_child$props, [\"cell\"]);\n      return (0, _assign.default)({}, rest, {\n        key: rest.dataIndex,\n        render: cell\n      });\n    }) : columnsProp;\n    return _react.default.createElement(_antd.Table, (0, _extends2.default)({}, tableProps, {\n      dataSource: dataSource,\n      columns: columns,\n      pagination: pagination,\n      onChange: this.onTableChange,\n      className: tableClassNames,\n      style: tableStyle\n    }));\n  };\n\n  _proto.render = function render() {\n    var _classnames2;\n\n    var loading = this.state.loading;\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        style = _this$props2.style;\n    var classNames = (0, _classnames3.default)((_classnames2 = {\n      'searchable-table-container': true\n    }, _classnames2[className] = !!className, _classnames2));\n    return _react.default.createElement(\"div\", {\n      className: classNames,\n      style: style\n    }, _react.default.createElement(_antd.Spin, {\n      spinning: loading,\n      className: \"searchable-table-spin\"\n    }, this.renderForm(), this.renderTable()));\n  };\n\n  return SearchableTable;\n}(_react.Component);\n\nexports.default = SearchableTable;\nSearchableTable.propTypes = {\n  defaultPagination: paginationTypes,\n  pagination: _propTypes.default.oneOfType([paginationTypes, _propTypes.default.bool]),\n  defaultSearchInfo: _propTypes.default.object,\n  searchInfo: _propTypes.default.object,\n  defaultDataSource: _propTypes.default.array,\n  dataSource: _propTypes.default.array,\n  form: _propTypes.default.func,\n  fetch: _propTypes.default.func,\n  className: _propTypes.default.string,\n  style: _propTypes.default.object,\n  tableClassName: _propTypes.default.string,\n  tableStyle: _propTypes.default.object\n};\n;\nmodule.exports = exports.default;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(55);\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(56);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = __webpack_require__(8);\nvar $getOwnPropertyDescriptor = __webpack_require__(57).f;\n\n__webpack_require__(34)('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pIE = __webpack_require__(31);\nvar createDesc = __webpack_require__(19);\nvar toIObject = __webpack_require__(8);\nvar toPrimitive = __webpack_require__(32);\nvar has = __webpack_require__(10);\nvar IE8_DOM_DEFINE = __webpack_require__(33);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(4) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(59);\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(60);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(3);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(4), 'Object', { defineProperty: __webpack_require__(11).f });\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _Object$assign = __webpack_require__(35);\n\nfunction _extends() {\n  module.exports = _extends = _Object$assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(63);\nmodule.exports = __webpack_require__(0).Object.assign;\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(3);\n\n$export($export.S + $export.F, 'Object', { assign: __webpack_require__(64) });\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = __webpack_require__(21);\nvar gOPS = __webpack_require__(68);\nvar pIE = __webpack_require__(31);\nvar toObject = __webpack_require__(25);\nvar IObject = __webpack_require__(30);\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(14)(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar has = __webpack_require__(10);\nvar toIObject = __webpack_require__(8);\nvar arrayIndexOf = __webpack_require__(66)(false);\nvar IE_PROTO = __webpack_require__(23)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(8);\nvar toLength = __webpack_require__(36);\nvar toAbsoluteIndex = __webpack_require__(67);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(22);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports) {\n\nexports.f = Object.getOwnPropertySymbols;\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _Object$keys = __webpack_require__(40);\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n\n  var sourceKeys = _Object$keys(source);\n\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(71);\nmodule.exports = __webpack_require__(0).Object.keys;\n\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 Object.keys(O)\nvar toObject = __webpack_require__(25);\nvar $keys = __webpack_require__(21);\n\n__webpack_require__(34)('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(73);\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = __webpack_require__(74);\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports) {\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _Promise = __webpack_require__(77);\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    _Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new _Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(78);\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(79);\n__webpack_require__(80);\n__webpack_require__(86);\n__webpack_require__(90);\n__webpack_require__(102);\n__webpack_require__(103);\nmodule.exports = __webpack_require__(0).Promise;\n\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar $at = __webpack_require__(81)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(41)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toInteger = __webpack_require__(22);\nvar defined = __webpack_require__(18);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(6);\n\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar create = __webpack_require__(42);\nvar descriptor = __webpack_require__(19);\nvar setToStringTag = __webpack_require__(26);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(6)(IteratorPrototype, __webpack_require__(2)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dP = __webpack_require__(11);\nvar anObject = __webpack_require__(5);\nvar getKeys = __webpack_require__(21);\n\nmodule.exports = __webpack_require__(4) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(10);\nvar toObject = __webpack_require__(25);\nvar IE_PROTO = __webpack_require__(23)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(87);\nvar global = __webpack_require__(1);\nvar hide = __webpack_require__(6);\nvar Iterators = __webpack_require__(12);\nvar TO_STRING_TAG = __webpack_require__(2)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar addToUnscopables = __webpack_require__(88);\nvar step = __webpack_require__(89);\nvar Iterators = __webpack_require__(12);\nvar toIObject = __webpack_require__(8);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(41)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = function () { /* empty */ };\n\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar LIBRARY = __webpack_require__(24);\nvar global = __webpack_require__(1);\nvar ctx = __webpack_require__(15);\nvar classof = __webpack_require__(44);\nvar $export = __webpack_require__(3);\nvar isObject = __webpack_require__(9);\nvar aFunction = __webpack_require__(16);\nvar anInstance = __webpack_require__(91);\nvar forOf = __webpack_require__(92);\nvar speciesConstructor = __webpack_require__(45);\nvar task = __webpack_require__(46).set;\nvar microtask = __webpack_require__(97)();\nvar newPromiseCapabilityModule = __webpack_require__(27);\nvar perform = __webpack_require__(47);\nvar userAgent = __webpack_require__(98);\nvar promiseResolve = __webpack_require__(48);\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[__webpack_require__(2)('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(99)($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\n__webpack_require__(26)($Promise, PROMISE);\n__webpack_require__(100)(PROMISE);\nWrapper = __webpack_require__(0)[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(101)(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ctx = __webpack_require__(15);\nvar call = __webpack_require__(93);\nvar isArrayIter = __webpack_require__(94);\nvar anObject = __webpack_require__(5);\nvar toLength = __webpack_require__(36);\nvar getIterFn = __webpack_require__(95);\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(5);\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// check on default Array iterator\nvar Iterators = __webpack_require__(12);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(44);\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar Iterators = __webpack_require__(12);\nmodule.exports = __webpack_require__(0).getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(1);\nvar macrotask = __webpack_require__(46).set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = __webpack_require__(13)(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(1);\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar hide = __webpack_require__(6);\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar global = __webpack_require__(1);\nvar core = __webpack_require__(0);\nvar dP = __webpack_require__(11);\nvar DESCRIPTORS = __webpack_require__(4);\nvar SPECIES = __webpack_require__(2)('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ITERATOR = __webpack_require__(2)('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// https://github.com/tc39/proposal-promise-finally\n\nvar $export = __webpack_require__(3);\nvar core = __webpack_require__(0);\nvar global = __webpack_require__(1);\nvar speciesConstructor = __webpack_require__(45);\nvar promiseResolve = __webpack_require__(48);\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// https://github.com/tc39/proposal-promise-try\nvar $export = __webpack_require__(3);\nvar newPromiseCapability = __webpack_require__(27);\nvar perform = __webpack_require__(47);\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(105);\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(106);\nvar $Object = __webpack_require__(0).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(3);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(42) });\n\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(108);\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( true && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}());\n\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports) {\n\n/**\n  # omit\n\n  Remove values from an object (or an array of objects) based on key, value or\n  an evaluator function.\n\n  ## Example Usage\n\n  <<< examples/object.js\n\n**/\nmodule.exports = function(rule) {\n\n  function omit(target) {\n    var acceptVal;\n    var copy = {};\n    var key;\n    var val;\n\n    // in the case that we have been passed a falsey value, just return that\n    if (! target) {\n      return target;\n    }\n\n    if (Array.isArray(target)) {\n      return target.map(omit);\n    }\n\n    for (var key in target) {\n      if (target.hasOwnProperty(key)) {\n        // if we don't have a valid rule, just accept the value\n        acceptVal = typeof rule != 'function';\n\n        // if we only have a key check, then do a very simple test\n        if (rule.length === 1) {\n          acceptVal = !rule(key);\n        }\n        else {\n          val = target[key];\n          acceptVal = !rule(key, val = target[key], target);\n        }\n\n        if (acceptVal) {\n          copy[key] = val || target[key];\n        }\n      }\n    }\n\n    return copy;\n  }\n\n  function omitWhenEqual(value) {\n    return function(key) {\n      return key === value;\n    };\n  }\n\n  function omitWhenIn(target) {\n    return function(key) {\n      return target.indexOf(key) >= 0;\n    };\n  }\n\n  if (typeof rule == 'string' || (rule instanceof String)) {\n    rule = omitWhenEqual(rule);\n  }\n\n  if (Array.isArray(rule)) {\n    rule = omitWhenIn(rule);\n  }\n\n  return arguments[1] !== undefined ? omit(arguments[1]) : omit;\n};\n\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = \"production\" !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireWildcard = __webpack_require__(17);\n\nvar _interopRequireDefault = __webpack_require__(7);\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(__webpack_require__(28));\n\nvar _react = _interopRequireWildcard(__webpack_require__(29));\n\n/**\n * 虚拟组件，用于收集列渲染规则\n */\nvar Column =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inheritsLoose2.default)(Column, _Component);\n\n  function Column() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Column.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return Column;\n}(_react.Component);\n\nexports.default = Column;\nmodule.exports = exports.default;\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireWildcard = __webpack_require__(17);\n\nvar _interopRequireDefault = __webpack_require__(7);\n\nexports.__esModule = true;\nexports.default = SearchFormDecorator;\n\nvar _inheritsLoose2 = _interopRequireDefault(__webpack_require__(28));\n\nvar _react = _interopRequireWildcard(__webpack_require__(29));\n\nvar _propTypes = _interopRequireDefault(__webpack_require__(49));\n\nvar _antd = __webpack_require__(50);\n\n/**\n * 虚拟组件，用于收集列渲染规则\n */\nfunction SearchFormDecorator(FormContent) {\n  var SearchForm =\n  /*#__PURE__*/\n  function (_Component) {\n    (0, _inheritsLoose2.default)(SearchForm, _Component);\n\n    function SearchForm() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n      _this.doSearch = function () {\n        var _this$props = _this.props,\n            doSearch = _this$props.doSearch,\n            form = _this$props.form;\n        var values = form.getFieldsValue(); // 查询数据转换\n\n        values = _this.form && _this.form.normalize ? _this.form.normalize(values) : values;\n        doSearch && doSearch(values);\n      };\n\n      _this.doReset = function () {\n        var _this$props2 = _this.props,\n            doSearch = _this$props2.doSearch,\n            form = _this$props2.form;\n        form.resetFields();\n        doSearch && doSearch();\n      };\n\n      return _this;\n    }\n\n    var _proto = SearchForm.prototype;\n\n    _proto.render = function render() {\n      var _this2 = this;\n\n      var form = this.props.form;\n      return _react.default.createElement(\"div\", {\n        className: \"searchable-table-form-content\"\n      }, _react.default.createElement(FormContent, {\n        form: form,\n        ref: function ref(c) {\n          if (c) _this2.form = c;\n        }\n      }), _react.default.createElement(\"div\", {\n        className: \"searchable-table-form-btns\"\n      }, _react.default.createElement(_antd.Button, {\n        type: \"primary\",\n        className: \"search-btn\",\n        onClick: this.doSearch\n      }, \"\\u641C\\u7D22\"), _react.default.createElement(_antd.Button, {\n        type: \"default\",\n        className: \"reset-btn\",\n        onClick: this.doReset\n      }, \"\\u91CD\\u7F6E\")));\n    };\n\n    return SearchForm;\n  }(_react.Component);\n\n  SearchForm.propTypes = {\n    doSearch: _propTypes.default.func.isRequired\n  };\n  return _antd.Form.create()(SearchForm);\n}\n\n;\nmodule.exports = exports.default;\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchable-table-container\":\"searchable-table-container\",\"searchableTableContainer\":\"searchable-table-container\",\"searchable-table-spin\":\"searchable-table-spin\",\"searchableTableSpin\":\"searchable-table-spin\",\"searchable-table-form\":\"searchable-table-form\",\"searchableTableForm\":\"searchable-table-form\",\"searchable-table-form-content\":\"searchable-table-form-content\",\"searchableTableFormContent\":\"searchable-table-form-content\",\"searchable-table-form-btns\":\"searchable-table-form-btns\",\"searchableTableFormBtns\":\"searchable-table-form-btns\",\"search-btn\":\"search-btn\",\"searchBtn\":\"search-btn\"};\n\n/***/ })\n/******/ ]);\n});"]}]}